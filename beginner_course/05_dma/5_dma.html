<!DOCTYPE html><html><head>
      <title>5_dma</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <style>
      /*!
 * reveal.js
 * http://revealjs.com
 * MIT licensed
 *
 * Copyright (C) 2018 Hakim El Hattab, http://hakim.se
 */
/*********************************************
 * RESET STYLES
 *********************************************/
html, body, .reveal div, .reveal span, .reveal applet, .reveal object, .reveal iframe,
.reveal h1, .reveal h2, .reveal h3, .reveal h4, .reveal h5, .reveal h6, .reveal p, .reveal blockquote, .reveal pre,
.reveal a, .reveal abbr, .reveal acronym, .reveal address, .reveal big, .reveal cite, .reveal code,
.reveal del, .reveal dfn, .reveal em, .reveal img, .reveal ins, .reveal kbd, .reveal q, .reveal s, .reveal samp,
.reveal small, .reveal strike, .reveal strong, .reveal sub, .reveal sup, .reveal tt, .reveal var,
.reveal b, .reveal u, .reveal center,
.reveal dl, .reveal dt, .reveal dd, .reveal ol, .reveal ul, .reveal li,
.reveal fieldset, .reveal form, .reveal label, .reveal legend,
.reveal table, .reveal caption, .reveal tbody, .reveal tfoot, .reveal thead, .reveal tr, .reveal th, .reveal td,
.reveal article, .reveal aside, .reveal canvas, .reveal details, .reveal embed,
.reveal figure, .reveal figcaption, .reveal footer, .reveal header, .reveal hgroup,
.reveal menu, .reveal nav, .reveal output, .reveal ruby, .reveal section, .reveal summary,
.reveal time, .reveal mark, .reveal audio, .reveal video {
  margin: 0;
  padding: 0;
  border: 0;
  font-size: 100%;
  /* font: inherit; */
  vertical-align: baseline; }

.reveal article, .reveal aside, .reveal details, .reveal figcaption, .reveal figure,
.reveal footer, .reveal header, .reveal hgroup, .reveal menu, .reveal nav, .reveal section {
  display: block; }

/*********************************************
 * GLOBAL STYLES
 *********************************************/
html,
body {
  width: 100%;
  height: 100%;
  overflow: hidden; }

body {
  position: relative;
  line-height: 1;
  background-color: #fff;
  color: #000; }

/*********************************************
 * VIEW FRAGMENTS
 *********************************************/
.reveal .slides section .fragment {
  opacity: 0;
  visibility: hidden;
  transition: all .2s ease; }
  .reveal .slides section .fragment.visible {
    opacity: 1;
    visibility: inherit; }

.reveal .slides section .fragment.grow {
  opacity: 1;
  visibility: inherit; }
  .reveal .slides section .fragment.grow.visible {
    -webkit-transform: scale(1.3);
            transform: scale(1.3); }

.reveal .slides section .fragment.shrink {
  opacity: 1;
  visibility: inherit; }
  .reveal .slides section .fragment.shrink.visible {
    -webkit-transform: scale(0.7);
            transform: scale(0.7); }

.reveal .slides section .fragment.zoom-in {
  -webkit-transform: scale(0.1);
          transform: scale(0.1); }
  .reveal .slides section .fragment.zoom-in.visible {
    -webkit-transform: none;
            transform: none; }

.reveal .slides section .fragment.fade-out {
  opacity: 1;
  visibility: inherit; }
  .reveal .slides section .fragment.fade-out.visible {
    opacity: 0;
    visibility: hidden; }

.reveal .slides section .fragment.semi-fade-out {
  opacity: 1;
  visibility: inherit; }
  .reveal .slides section .fragment.semi-fade-out.visible {
    opacity: 0.5;
    visibility: inherit; }

.reveal .slides section .fragment.strike {
  opacity: 1;
  visibility: inherit; }
  .reveal .slides section .fragment.strike.visible {
    text-decoration: line-through; }

.reveal .slides section .fragment.fade-up {
  -webkit-transform: translate(0, 20%);
          transform: translate(0, 20%); }
  .reveal .slides section .fragment.fade-up.visible {
    -webkit-transform: translate(0, 0);
            transform: translate(0, 0); }

.reveal .slides section .fragment.fade-down {
  -webkit-transform: translate(0, -20%);
          transform: translate(0, -20%); }
  .reveal .slides section .fragment.fade-down.visible {
    -webkit-transform: translate(0, 0);
            transform: translate(0, 0); }

.reveal .slides section .fragment.fade-right {
  -webkit-transform: translate(-20%, 0);
          transform: translate(-20%, 0); }
  .reveal .slides section .fragment.fade-right.visible {
    -webkit-transform: translate(0, 0);
            transform: translate(0, 0); }

.reveal .slides section .fragment.fade-left {
  -webkit-transform: translate(20%, 0);
          transform: translate(20%, 0); }
  .reveal .slides section .fragment.fade-left.visible {
    -webkit-transform: translate(0, 0);
            transform: translate(0, 0); }

.reveal .slides section .fragment.fade-in-then-out,
.reveal .slides section .fragment.current-visible {
  opacity: 0;
  visibility: hidden; }
  .reveal .slides section .fragment.fade-in-then-out.current-fragment,
  .reveal .slides section .fragment.current-visible.current-fragment {
    opacity: 1;
    visibility: inherit; }

.reveal .slides section .fragment.fade-in-then-semi-out {
  opacity: 0;
  visibility: hidden; }
  .reveal .slides section .fragment.fade-in-then-semi-out.visible {
    opacity: 0.5;
    visibility: inherit; }
  .reveal .slides section .fragment.fade-in-then-semi-out.current-fragment {
    opacity: 1;
    visibility: inherit; }

.reveal .slides section .fragment.highlight-red,
.reveal .slides section .fragment.highlight-current-red,
.reveal .slides section .fragment.highlight-green,
.reveal .slides section .fragment.highlight-current-green,
.reveal .slides section .fragment.highlight-blue,
.reveal .slides section .fragment.highlight-current-blue {
  opacity: 1;
  visibility: inherit; }

.reveal .slides section .fragment.highlight-red.visible {
  color: #ff2c2d; }

.reveal .slides section .fragment.highlight-green.visible {
  color: #17ff2e; }

.reveal .slides section .fragment.highlight-blue.visible {
  color: #1b91ff; }

.reveal .slides section .fragment.highlight-current-red.current-fragment {
  color: #ff2c2d; }

.reveal .slides section .fragment.highlight-current-green.current-fragment {
  color: #17ff2e; }

.reveal .slides section .fragment.highlight-current-blue.current-fragment {
  color: #1b91ff; }

/*********************************************
 * DEFAULT ELEMENT STYLES
 *********************************************/
/* Fixes issue in Chrome where italic fonts did not appear when printing to PDF */
.reveal:after {
  content: '';
  font-style: italic; }

.reveal iframe {
  z-index: 1; }

/** Prevents layering issues in certain browser/transition combinations */
.reveal a {
  position: relative; }

.reveal .stretch {
  max-width: none;
  max-height: none; }

.reveal pre.stretch code {
  height: 100%;
  max-height: 100%;
  box-sizing: border-box; }

/*********************************************
 * CONTROLS
 *********************************************/
@-webkit-keyframes bounce-right {
  0%, 10%, 25%, 40%, 50% {
    -webkit-transform: translateX(0);
            transform: translateX(0); }
  20% {
    -webkit-transform: translateX(10px);
            transform: translateX(10px); }
  30% {
    -webkit-transform: translateX(-5px);
            transform: translateX(-5px); } }
@keyframes bounce-right {
  0%, 10%, 25%, 40%, 50% {
    -webkit-transform: translateX(0);
            transform: translateX(0); }
  20% {
    -webkit-transform: translateX(10px);
            transform: translateX(10px); }
  30% {
    -webkit-transform: translateX(-5px);
            transform: translateX(-5px); } }

@-webkit-keyframes bounce-down {
  0%, 10%, 25%, 40%, 50% {
    -webkit-transform: translateY(0);
            transform: translateY(0); }
  20% {
    -webkit-transform: translateY(10px);
            transform: translateY(10px); }
  30% {
    -webkit-transform: translateY(-5px);
            transform: translateY(-5px); } }

@keyframes bounce-down {
  0%, 10%, 25%, 40%, 50% {
    -webkit-transform: translateY(0);
            transform: translateY(0); }
  20% {
    -webkit-transform: translateY(10px);
            transform: translateY(10px); }
  30% {
    -webkit-transform: translateY(-5px);
            transform: translateY(-5px); } }

.reveal .controls {
  display: none;
  position: absolute;
  top: auto;
  bottom: 12px;
  right: 12px;
  left: auto;
  z-index: 1;
  color: #000;
  pointer-events: none;
  font-size: 10px; }
  .reveal .controls button {
    position: absolute;
    padding: 0;
    background-color: transparent;
    border: 0;
    outline: 0;
    cursor: pointer;
    color: currentColor;
    -webkit-transform: scale(0.9999);
            transform: scale(0.9999);
    transition: color 0.2s ease, opacity 0.2s ease, -webkit-transform 0.2s ease;
    transition: color 0.2s ease, opacity 0.2s ease, transform 0.2s ease;
    z-index: 2;
    pointer-events: auto;
    font-size: inherit;
    visibility: hidden;
    opacity: 0;
    -webkit-appearance: none;
    -webkit-tap-highlight-color: transparent; }
  .reveal .controls .controls-arrow:before,
  .reveal .controls .controls-arrow:after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 2.6em;
    height: 0.5em;
    border-radius: 0.25em;
    background-color: currentColor;
    transition: all 0.15s ease, background-color 0.8s ease;
    -webkit-transform-origin: 0.2em 50%;
            transform-origin: 0.2em 50%;
    will-change: transform; }
  .reveal .controls .controls-arrow {
    position: relative;
    width: 3.6em;
    height: 3.6em; }
    .reveal .controls .controls-arrow:before {
      -webkit-transform: translateX(0.5em) translateY(1.55em) rotate(45deg);
              transform: translateX(0.5em) translateY(1.55em) rotate(45deg); }
    .reveal .controls .controls-arrow:after {
      -webkit-transform: translateX(0.5em) translateY(1.55em) rotate(-45deg);
              transform: translateX(0.5em) translateY(1.55em) rotate(-45deg); }
    .reveal .controls .controls-arrow:hover:before {
      -webkit-transform: translateX(0.5em) translateY(1.55em) rotate(40deg);
              transform: translateX(0.5em) translateY(1.55em) rotate(40deg); }
    .reveal .controls .controls-arrow:hover:after {
      -webkit-transform: translateX(0.5em) translateY(1.55em) rotate(-40deg);
              transform: translateX(0.5em) translateY(1.55em) rotate(-40deg); }
    .reveal .controls .controls-arrow:active:before {
      -webkit-transform: translateX(0.5em) translateY(1.55em) rotate(36deg);
              transform: translateX(0.5em) translateY(1.55em) rotate(36deg); }
    .reveal .controls .controls-arrow:active:after {
      -webkit-transform: translateX(0.5em) translateY(1.55em) rotate(-36deg);
              transform: translateX(0.5em) translateY(1.55em) rotate(-36deg); }
  .reveal .controls .navigate-left {
    right: 6.4em;
    bottom: 3.2em;
    -webkit-transform: translateX(-10px);
            transform: translateX(-10px); }
  .reveal .controls .navigate-right {
    right: 0;
    bottom: 3.2em;
    -webkit-transform: translateX(10px);
            transform: translateX(10px); }
    .reveal .controls .navigate-right .controls-arrow {
      -webkit-transform: rotate(180deg);
              transform: rotate(180deg); }
    .reveal .controls .navigate-right.highlight {
      -webkit-animation: bounce-right 2s 50 both ease-out;
              animation: bounce-right 2s 50 both ease-out; }
  .reveal .controls .navigate-up {
    right: 3.2em;
    bottom: 6.4em;
    -webkit-transform: translateY(-10px);
            transform: translateY(-10px); }
    .reveal .controls .navigate-up .controls-arrow {
      -webkit-transform: rotate(90deg);
              transform: rotate(90deg); }
  .reveal .controls .navigate-down {
    right: 3.2em;
    bottom: 0;
    -webkit-transform: translateY(10px);
            transform: translateY(10px); }
    .reveal .controls .navigate-down .controls-arrow {
      -webkit-transform: rotate(-90deg);
              transform: rotate(-90deg); }
    .reveal .controls .navigate-down.highlight {
      -webkit-animation: bounce-down 2s 50 both ease-out;
              animation: bounce-down 2s 50 both ease-out; }
  .reveal .controls[data-controls-back-arrows="faded"] .navigate-left.enabled,
  .reveal .controls[data-controls-back-arrows="faded"] .navigate-up.enabled {
    opacity: 0.3; }
    .reveal .controls[data-controls-back-arrows="faded"] .navigate-left.enabled:hover,
    .reveal .controls[data-controls-back-arrows="faded"] .navigate-up.enabled:hover {
      opacity: 1; }
  .reveal .controls[data-controls-back-arrows="hidden"] .navigate-left.enabled,
  .reveal .controls[data-controls-back-arrows="hidden"] .navigate-up.enabled {
    opacity: 0;
    visibility: hidden; }
  .reveal .controls .enabled {
    visibility: visible;
    opacity: 0.9;
    cursor: pointer;
    -webkit-transform: none;
            transform: none; }
  .reveal .controls .enabled.fragmented {
    opacity: 0.5; }
  .reveal .controls .enabled:hover,
  .reveal .controls .enabled.fragmented:hover {
    opacity: 1; }

.reveal:not(.has-vertical-slides) .controls .navigate-left {
  bottom: 1.4em;
  right: 5.5em; }

.reveal:not(.has-vertical-slides) .controls .navigate-right {
  bottom: 1.4em;
  right: 0.5em; }

.reveal:not(.has-horizontal-slides) .controls .navigate-up {
  right: 1.4em;
  bottom: 5em; }

.reveal:not(.has-horizontal-slides) .controls .navigate-down {
  right: 1.4em;
  bottom: 0.5em; }

.reveal.has-dark-background .controls {
  color: #fff; }

.reveal.has-light-background .controls {
  color: #000; }

.reveal.no-hover .controls .controls-arrow:hover:before,
.reveal.no-hover .controls .controls-arrow:active:before {
  -webkit-transform: translateX(0.5em) translateY(1.55em) rotate(45deg);
          transform: translateX(0.5em) translateY(1.55em) rotate(45deg); }

.reveal.no-hover .controls .controls-arrow:hover:after,
.reveal.no-hover .controls .controls-arrow:active:after {
  -webkit-transform: translateX(0.5em) translateY(1.55em) rotate(-45deg);
          transform: translateX(0.5em) translateY(1.55em) rotate(-45deg); }

@media screen and (min-width: 500px) {
  .reveal .controls[data-controls-layout="edges"] {
    top: 0;
    right: 0;
    bottom: 0;
    left: 0; }
  .reveal .controls[data-controls-layout="edges"] .navigate-left,
  .reveal .controls[data-controls-layout="edges"] .navigate-right,
  .reveal .controls[data-controls-layout="edges"] .navigate-up,
  .reveal .controls[data-controls-layout="edges"] .navigate-down {
    bottom: auto;
    right: auto; }
  .reveal .controls[data-controls-layout="edges"] .navigate-left {
    top: 50%;
    left: 8px;
    margin-top: -1.8em; }
  .reveal .controls[data-controls-layout="edges"] .navigate-right {
    top: 50%;
    right: 8px;
    margin-top: -1.8em; }
  .reveal .controls[data-controls-layout="edges"] .navigate-up {
    top: 8px;
    left: 50%;
    margin-left: -1.8em; }
  .reveal .controls[data-controls-layout="edges"] .navigate-down {
    bottom: 8px;
    left: 50%;
    margin-left: -1.8em; } }

/*********************************************
 * PROGRESS BAR
 *********************************************/
.reveal .progress {
  position: absolute;
  display: none;
  height: 3px;
  width: 100%;
  bottom: 0;
  left: 0;
  z-index: 10;
  background-color: rgba(0, 0, 0, 0.2);
  color: #fff; }

.reveal .progress:after {
  content: '';
  display: block;
  position: absolute;
  height: 10px;
  width: 100%;
  top: -10px; }

.reveal .progress span {
  display: block;
  height: 100%;
  width: 0px;
  background-color: currentColor;
  transition: width 800ms cubic-bezier(0.26, 0.86, 0.44, 0.985); }

/*********************************************
 * SLIDE NUMBER
 *********************************************/
.reveal .slide-number {
  position: absolute;
  display: block;
  right: 8px;
  bottom: 8px;
  z-index: 31;
  font-family: Helvetica, sans-serif;
  font-size: 12px;
  line-height: 1;
  color: #fff;
  background-color: rgba(0, 0, 0, 0.4);
  padding: 5px; }

.reveal .slide-number a {
  color: currentColor; }

.reveal .slide-number-delimiter {
  margin: 0 3px; }

/*********************************************
 * SLIDES
 *********************************************/
.reveal {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
  -ms-touch-action: none;
      touch-action: none; }

@media only screen and (orientation: landscape) {
  .reveal.ua-iphone {
    position: fixed; } }

.reveal .slides {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  margin: auto;
  pointer-events: none;
  overflow: visible;
  z-index: 1;
  text-align: center;
  -webkit-perspective: 600px;
          perspective: 600px;
  -webkit-perspective-origin: 50% 40%;
          perspective-origin: 50% 40%; }

.reveal .slides > section {
  -ms-perspective: 600px; }

.reveal .slides > section,
.reveal .slides > section > section {
  display: none;
  position: absolute;
  width: 100%;
  padding: 20px 0px;
  pointer-events: auto;
  z-index: 10;
  -webkit-transform-style: flat;
          transform-style: flat;
  transition: -webkit-transform-origin 800ms cubic-bezier(0.26, 0.86, 0.44, 0.985), -webkit-transform 800ms cubic-bezier(0.26, 0.86, 0.44, 0.985), visibility 800ms cubic-bezier(0.26, 0.86, 0.44, 0.985), opacity 800ms cubic-bezier(0.26, 0.86, 0.44, 0.985);
  transition: transform-origin 800ms cubic-bezier(0.26, 0.86, 0.44, 0.985), transform 800ms cubic-bezier(0.26, 0.86, 0.44, 0.985), visibility 800ms cubic-bezier(0.26, 0.86, 0.44, 0.985), opacity 800ms cubic-bezier(0.26, 0.86, 0.44, 0.985); }

/* Global transition speed settings */
.reveal[data-transition-speed="fast"] .slides section {
  transition-duration: 400ms; }

.reveal[data-transition-speed="slow"] .slides section {
  transition-duration: 1200ms; }

/* Slide-specific transition speed overrides */
.reveal .slides section[data-transition-speed="fast"] {
  transition-duration: 400ms; }

.reveal .slides section[data-transition-speed="slow"] {
  transition-duration: 1200ms; }

.reveal .slides > section.stack {
  padding-top: 0;
  padding-bottom: 0;
  pointer-events: none; }

.reveal .slides > section.present,
.reveal .slides > section > section.present {
  display: block;
  z-index: 11;
  opacity: 1; }

.reveal .slides > section:empty,
.reveal .slides > section > section:empty,
.reveal .slides > section[data-background-interactive],
.reveal .slides > section > section[data-background-interactive] {
  pointer-events: none; }

.reveal.center,
.reveal.center .slides,
.reveal.center .slides section {
  min-height: 0 !important; }

/* Don't allow interaction with invisible slides */
.reveal .slides > section.future,
.reveal .slides > section > section.future,
.reveal .slides > section.past,
.reveal .slides > section > section.past {
  pointer-events: none; }

.reveal.overview .slides > section,
.reveal.overview .slides > section > section {
  pointer-events: auto; }

.reveal .slides > section.past,
.reveal .slides > section.future,
.reveal .slides > section > section.past,
.reveal .slides > section > section.future {
  opacity: 0; }

/*********************************************
 * Mixins for readability of transitions
 *********************************************/
/*********************************************
 * SLIDE TRANSITION
 * Aliased 'linear' for backwards compatibility
 *********************************************/
.reveal.slide section {
  -webkit-backface-visibility: hidden;
          backface-visibility: hidden; }

.reveal .slides > section[data-transition=slide].past,
.reveal .slides > section[data-transition~=slide-out].past,
.reveal.slide .slides > section:not([data-transition]).past {
  -webkit-transform: translate(-150%, 0);
          transform: translate(-150%, 0); }

.reveal .slides > section[data-transition=slide].future,
.reveal .slides > section[data-transition~=slide-in].future,
.reveal.slide .slides > section:not([data-transition]).future {
  -webkit-transform: translate(150%, 0);
          transform: translate(150%, 0); }

.reveal .slides > section > section[data-transition=slide].past,
.reveal .slides > section > section[data-transition~=slide-out].past,
.reveal.slide .slides > section > section:not([data-transition]).past {
  -webkit-transform: translate(0, -150%);
          transform: translate(0, -150%); }

.reveal .slides > section > section[data-transition=slide].future,
.reveal .slides > section > section[data-transition~=slide-in].future,
.reveal.slide .slides > section > section:not([data-transition]).future {
  -webkit-transform: translate(0, 150%);
          transform: translate(0, 150%); }

.reveal.linear section {
  -webkit-backface-visibility: hidden;
          backface-visibility: hidden; }

.reveal .slides > section[data-transition=linear].past,
.reveal .slides > section[data-transition~=linear-out].past,
.reveal.linear .slides > section:not([data-transition]).past {
  -webkit-transform: translate(-150%, 0);
          transform: translate(-150%, 0); }

.reveal .slides > section[data-transition=linear].future,
.reveal .slides > section[data-transition~=linear-in].future,
.reveal.linear .slides > section:not([data-transition]).future {
  -webkit-transform: translate(150%, 0);
          transform: translate(150%, 0); }

.reveal .slides > section > section[data-transition=linear].past,
.reveal .slides > section > section[data-transition~=linear-out].past,
.reveal.linear .slides > section > section:not([data-transition]).past {
  -webkit-transform: translate(0, -150%);
          transform: translate(0, -150%); }

.reveal .slides > section > section[data-transition=linear].future,
.reveal .slides > section > section[data-transition~=linear-in].future,
.reveal.linear .slides > section > section:not([data-transition]).future {
  -webkit-transform: translate(0, 150%);
          transform: translate(0, 150%); }

/*********************************************
 * CONVEX TRANSITION
 * Aliased 'default' for backwards compatibility
 *********************************************/
.reveal .slides section[data-transition=default].stack,
.reveal.default .slides section.stack {
  -webkit-transform-style: preserve-3d;
          transform-style: preserve-3d; }

.reveal .slides > section[data-transition=default].past,
.reveal .slides > section[data-transition~=default-out].past,
.reveal.default .slides > section:not([data-transition]).past {
  -webkit-transform: translate3d(-100%, 0, 0) rotateY(-90deg) translate3d(-100%, 0, 0);
          transform: translate3d(-100%, 0, 0) rotateY(-90deg) translate3d(-100%, 0, 0); }

.reveal .slides > section[data-transition=default].future,
.reveal .slides > section[data-transition~=default-in].future,
.reveal.default .slides > section:not([data-transition]).future {
  -webkit-transform: translate3d(100%, 0, 0) rotateY(90deg) translate3d(100%, 0, 0);
          transform: translate3d(100%, 0, 0) rotateY(90deg) translate3d(100%, 0, 0); }

.reveal .slides > section > section[data-transition=default].past,
.reveal .slides > section > section[data-transition~=default-out].past,
.reveal.default .slides > section > section:not([data-transition]).past {
  -webkit-transform: translate3d(0, -300px, 0) rotateX(70deg) translate3d(0, -300px, 0);
          transform: translate3d(0, -300px, 0) rotateX(70deg) translate3d(0, -300px, 0); }

.reveal .slides > section > section[data-transition=default].future,
.reveal .slides > section > section[data-transition~=default-in].future,
.reveal.default .slides > section > section:not([data-transition]).future {
  -webkit-transform: translate3d(0, 300px, 0) rotateX(-70deg) translate3d(0, 300px, 0);
          transform: translate3d(0, 300px, 0) rotateX(-70deg) translate3d(0, 300px, 0); }

.reveal .slides section[data-transition=convex].stack,
.reveal.convex .slides section.stack {
  -webkit-transform-style: preserve-3d;
          transform-style: preserve-3d; }

.reveal .slides > section[data-transition=convex].past,
.reveal .slides > section[data-transition~=convex-out].past,
.reveal.convex .slides > section:not([data-transition]).past {
  -webkit-transform: translate3d(-100%, 0, 0) rotateY(-90deg) translate3d(-100%, 0, 0);
          transform: translate3d(-100%, 0, 0) rotateY(-90deg) translate3d(-100%, 0, 0); }

.reveal .slides > section[data-transition=convex].future,
.reveal .slides > section[data-transition~=convex-in].future,
.reveal.convex .slides > section:not([data-transition]).future {
  -webkit-transform: translate3d(100%, 0, 0) rotateY(90deg) translate3d(100%, 0, 0);
          transform: translate3d(100%, 0, 0) rotateY(90deg) translate3d(100%, 0, 0); }

.reveal .slides > section > section[data-transition=convex].past,
.reveal .slides > section > section[data-transition~=convex-out].past,
.reveal.convex .slides > section > section:not([data-transition]).past {
  -webkit-transform: translate3d(0, -300px, 0) rotateX(70deg) translate3d(0, -300px, 0);
          transform: translate3d(0, -300px, 0) rotateX(70deg) translate3d(0, -300px, 0); }

.reveal .slides > section > section[data-transition=convex].future,
.reveal .slides > section > section[data-transition~=convex-in].future,
.reveal.convex .slides > section > section:not([data-transition]).future {
  -webkit-transform: translate3d(0, 300px, 0) rotateX(-70deg) translate3d(0, 300px, 0);
          transform: translate3d(0, 300px, 0) rotateX(-70deg) translate3d(0, 300px, 0); }

/*********************************************
 * CONCAVE TRANSITION
 *********************************************/
.reveal .slides section[data-transition=concave].stack,
.reveal.concave .slides section.stack {
  -webkit-transform-style: preserve-3d;
          transform-style: preserve-3d; }

.reveal .slides > section[data-transition=concave].past,
.reveal .slides > section[data-transition~=concave-out].past,
.reveal.concave .slides > section:not([data-transition]).past {
  -webkit-transform: translate3d(-100%, 0, 0) rotateY(90deg) translate3d(-100%, 0, 0);
          transform: translate3d(-100%, 0, 0) rotateY(90deg) translate3d(-100%, 0, 0); }

.reveal .slides > section[data-transition=concave].future,
.reveal .slides > section[data-transition~=concave-in].future,
.reveal.concave .slides > section:not([data-transition]).future {
  -webkit-transform: translate3d(100%, 0, 0) rotateY(-90deg) translate3d(100%, 0, 0);
          transform: translate3d(100%, 0, 0) rotateY(-90deg) translate3d(100%, 0, 0); }

.reveal .slides > section > section[data-transition=concave].past,
.reveal .slides > section > section[data-transition~=concave-out].past,
.reveal.concave .slides > section > section:not([data-transition]).past {
  -webkit-transform: translate3d(0, -80%, 0) rotateX(-70deg) translate3d(0, -80%, 0);
          transform: translate3d(0, -80%, 0) rotateX(-70deg) translate3d(0, -80%, 0); }

.reveal .slides > section > section[data-transition=concave].future,
.reveal .slides > section > section[data-transition~=concave-in].future,
.reveal.concave .slides > section > section:not([data-transition]).future {
  -webkit-transform: translate3d(0, 80%, 0) rotateX(70deg) translate3d(0, 80%, 0);
          transform: translate3d(0, 80%, 0) rotateX(70deg) translate3d(0, 80%, 0); }

/*********************************************
 * ZOOM TRANSITION
 *********************************************/
.reveal .slides section[data-transition=zoom],
.reveal.zoom .slides section:not([data-transition]) {
  transition-timing-function: ease; }

.reveal .slides > section[data-transition=zoom].past,
.reveal .slides > section[data-transition~=zoom-out].past,
.reveal.zoom .slides > section:not([data-transition]).past {
  visibility: hidden;
  -webkit-transform: scale(16);
          transform: scale(16); }

.reveal .slides > section[data-transition=zoom].future,
.reveal .slides > section[data-transition~=zoom-in].future,
.reveal.zoom .slides > section:not([data-transition]).future {
  visibility: hidden;
  -webkit-transform: scale(0.2);
          transform: scale(0.2); }

.reveal .slides > section > section[data-transition=zoom].past,
.reveal .slides > section > section[data-transition~=zoom-out].past,
.reveal.zoom .slides > section > section:not([data-transition]).past {
  -webkit-transform: translate(0, -150%);
          transform: translate(0, -150%); }

.reveal .slides > section > section[data-transition=zoom].future,
.reveal .slides > section > section[data-transition~=zoom-in].future,
.reveal.zoom .slides > section > section:not([data-transition]).future {
  -webkit-transform: translate(0, 150%);
          transform: translate(0, 150%); }

/*********************************************
 * CUBE TRANSITION
 *
 * WARNING:
 * this is deprecated and will be removed in a
 * future version.
 *********************************************/
.reveal.cube .slides {
  -webkit-perspective: 1300px;
          perspective: 1300px; }

.reveal.cube .slides section {
  padding: 30px;
  min-height: 700px;
  -webkit-backface-visibility: hidden;
          backface-visibility: hidden;
  box-sizing: border-box;
  -webkit-transform-style: preserve-3d;
          transform-style: preserve-3d; }

.reveal.center.cube .slides section {
  min-height: 0; }

.reveal.cube .slides section:not(.stack):before {
  content: '';
  position: absolute;
  display: block;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
  background: rgba(0, 0, 0, 0.1);
  border-radius: 4px;
  -webkit-transform: translateZ(-20px);
          transform: translateZ(-20px); }

.reveal.cube .slides section:not(.stack):after {
  content: '';
  position: absolute;
  display: block;
  width: 90%;
  height: 30px;
  left: 5%;
  bottom: 0;
  background: none;
  z-index: 1;
  border-radius: 4px;
  box-shadow: 0px 95px 25px rgba(0, 0, 0, 0.2);
  -webkit-transform: translateZ(-90px) rotateX(65deg);
          transform: translateZ(-90px) rotateX(65deg); }

.reveal.cube .slides > section.stack {
  padding: 0;
  background: none; }

.reveal.cube .slides > section.past {
  -webkit-transform-origin: 100% 0%;
          transform-origin: 100% 0%;
  -webkit-transform: translate3d(-100%, 0, 0) rotateY(-90deg);
          transform: translate3d(-100%, 0, 0) rotateY(-90deg); }

.reveal.cube .slides > section.future {
  -webkit-transform-origin: 0% 0%;
          transform-origin: 0% 0%;
  -webkit-transform: translate3d(100%, 0, 0) rotateY(90deg);
          transform: translate3d(100%, 0, 0) rotateY(90deg); }

.reveal.cube .slides > section > section.past {
  -webkit-transform-origin: 0% 100%;
          transform-origin: 0% 100%;
  -webkit-transform: translate3d(0, -100%, 0) rotateX(90deg);
          transform: translate3d(0, -100%, 0) rotateX(90deg); }

.reveal.cube .slides > section > section.future {
  -webkit-transform-origin: 0% 0%;
          transform-origin: 0% 0%;
  -webkit-transform: translate3d(0, 100%, 0) rotateX(-90deg);
          transform: translate3d(0, 100%, 0) rotateX(-90deg); }

/*********************************************
 * PAGE TRANSITION
 *
 * WARNING:
 * this is deprecated and will be removed in a
 * future version.
 *********************************************/
.reveal.page .slides {
  -webkit-perspective-origin: 0% 50%;
          perspective-origin: 0% 50%;
  -webkit-perspective: 3000px;
          perspective: 3000px; }

.reveal.page .slides section {
  padding: 30px;
  min-height: 700px;
  box-sizing: border-box;
  -webkit-transform-style: preserve-3d;
          transform-style: preserve-3d; }

.reveal.page .slides section.past {
  z-index: 12; }

.reveal.page .slides section:not(.stack):before {
  content: '';
  position: absolute;
  display: block;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
  background: rgba(0, 0, 0, 0.1);
  -webkit-transform: translateZ(-20px);
          transform: translateZ(-20px); }

.reveal.page .slides section:not(.stack):after {
  content: '';
  position: absolute;
  display: block;
  width: 90%;
  height: 30px;
  left: 5%;
  bottom: 0;
  background: none;
  z-index: 1;
  border-radius: 4px;
  box-shadow: 0px 95px 25px rgba(0, 0, 0, 0.2);
  -webkit-transform: translateZ(-90px) rotateX(65deg); }

.reveal.page .slides > section.stack {
  padding: 0;
  background: none; }

.reveal.page .slides > section.past {
  -webkit-transform-origin: 0% 0%;
          transform-origin: 0% 0%;
  -webkit-transform: translate3d(-40%, 0, 0) rotateY(-80deg);
          transform: translate3d(-40%, 0, 0) rotateY(-80deg); }

.reveal.page .slides > section.future {
  -webkit-transform-origin: 100% 0%;
          transform-origin: 100% 0%;
  -webkit-transform: translate3d(0, 0, 0);
          transform: translate3d(0, 0, 0); }

.reveal.page .slides > section > section.past {
  -webkit-transform-origin: 0% 0%;
          transform-origin: 0% 0%;
  -webkit-transform: translate3d(0, -40%, 0) rotateX(80deg);
          transform: translate3d(0, -40%, 0) rotateX(80deg); }

.reveal.page .slides > section > section.future {
  -webkit-transform-origin: 0% 100%;
          transform-origin: 0% 100%;
  -webkit-transform: translate3d(0, 0, 0);
          transform: translate3d(0, 0, 0); }

/*********************************************
 * FADE TRANSITION
 *********************************************/
.reveal .slides section[data-transition=fade],
.reveal.fade .slides section:not([data-transition]),
.reveal.fade .slides > section > section:not([data-transition]) {
  -webkit-transform: none;
          transform: none;
  transition: opacity 0.5s; }

.reveal.fade.overview .slides section,
.reveal.fade.overview .slides > section > section {
  transition: none; }

/*********************************************
 * NO TRANSITION
 *********************************************/
.reveal .slides section[data-transition=none],
.reveal.none .slides section:not([data-transition]) {
  -webkit-transform: none;
          transform: none;
  transition: none; }

/*********************************************
 * PAUSED MODE
 *********************************************/
.reveal .pause-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: black;
  visibility: hidden;
  opacity: 0;
  z-index: 100;
  transition: all 1s ease; }

.reveal .pause-overlay .resume-button {
  position: absolute;
  bottom: 20px;
  right: 20px;
  color: #ccc;
  border-radius: 2px;
  padding: 6px 14px;
  border: 2px solid #ccc;
  font-size: 16px;
  background: transparent;
  cursor: pointer; }
  .reveal .pause-overlay .resume-button:hover {
    color: #fff;
    border-color: #fff; }

.reveal.paused .pause-overlay {
  visibility: visible;
  opacity: 1; }

/*********************************************
 * FALLBACK
 *********************************************/
.no-transforms {
  overflow-y: auto; }

.no-transforms .reveal .slides {
  position: relative;
  width: 80%;
  height: auto !important;
  top: 0;
  left: 50%;
  margin: 0;
  text-align: center; }

.no-transforms .reveal .controls,
.no-transforms .reveal .progress {
  display: none !important; }

.no-transforms .reveal .slides section {
  display: block !important;
  opacity: 1 !important;
  position: relative !important;
  height: auto;
  min-height: 0;
  top: 0;
  left: -50%;
  margin: 70px 0;
  -webkit-transform: none;
          transform: none; }

.no-transforms .reveal .slides section section {
  left: 0; }

.reveal .no-transition,
.reveal .no-transition * {
  transition: none !important; }

/*********************************************
 * PER-SLIDE BACKGROUNDS
 *********************************************/
.reveal .backgrounds {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  -webkit-perspective: 600px;
          perspective: 600px; }

.reveal .slide-background {
  display: none;
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: 0;
  visibility: hidden;
  overflow: hidden;
  background-color: transparent;
  transition: all 800ms cubic-bezier(0.26, 0.86, 0.44, 0.985); }

.reveal .slide-background-content {
  position: absolute;
  width: 100%;
  height: 100%;
  background-position: 50% 50%;
  background-repeat: no-repeat;
  background-size: cover; }

.reveal .slide-background.stack {
  display: block; }

.reveal .slide-background.present {
  opacity: 1;
  visibility: visible;
  z-index: 2; }

.print-pdf .reveal .slide-background {
  opacity: 1 !important;
  visibility: visible !important; }

/* Video backgrounds */
.reveal .slide-background video {
  position: absolute;
  width: 100%;
  height: 100%;
  max-width: none;
  max-height: none;
  top: 0;
  left: 0;
  -o-object-fit: cover;
     object-fit: cover; }

.reveal .slide-background[data-background-size="contain"] video {
  -o-object-fit: contain;
     object-fit: contain; }

/* Immediate transition style */
.reveal[data-background-transition=none] > .backgrounds .slide-background,
.reveal > .backgrounds .slide-background[data-background-transition=none] {
  transition: none; }

/* Slide */
.reveal[data-background-transition=slide] > .backgrounds .slide-background,
.reveal > .backgrounds .slide-background[data-background-transition=slide] {
  opacity: 1;
  -webkit-backface-visibility: hidden;
          backface-visibility: hidden; }

.reveal[data-background-transition=slide] > .backgrounds .slide-background.past,
.reveal > .backgrounds .slide-background.past[data-background-transition=slide] {
  -webkit-transform: translate(-100%, 0);
          transform: translate(-100%, 0); }

.reveal[data-background-transition=slide] > .backgrounds .slide-background.future,
.reveal > .backgrounds .slide-background.future[data-background-transition=slide] {
  -webkit-transform: translate(100%, 0);
          transform: translate(100%, 0); }

.reveal[data-background-transition=slide] > .backgrounds .slide-background > .slide-background.past,
.reveal > .backgrounds .slide-background > .slide-background.past[data-background-transition=slide] {
  -webkit-transform: translate(0, -100%);
          transform: translate(0, -100%); }

.reveal[data-background-transition=slide] > .backgrounds .slide-background > .slide-background.future,
.reveal > .backgrounds .slide-background > .slide-background.future[data-background-transition=slide] {
  -webkit-transform: translate(0, 100%);
          transform: translate(0, 100%); }

/* Convex */
.reveal[data-background-transition=convex] > .backgrounds .slide-background.past,
.reveal > .backgrounds .slide-background.past[data-background-transition=convex] {
  opacity: 0;
  -webkit-transform: translate3d(-100%, 0, 0) rotateY(-90deg) translate3d(-100%, 0, 0);
          transform: translate3d(-100%, 0, 0) rotateY(-90deg) translate3d(-100%, 0, 0); }

.reveal[data-background-transition=convex] > .backgrounds .slide-background.future,
.reveal > .backgrounds .slide-background.future[data-background-transition=convex] {
  opacity: 0;
  -webkit-transform: translate3d(100%, 0, 0) rotateY(90deg) translate3d(100%, 0, 0);
          transform: translate3d(100%, 0, 0) rotateY(90deg) translate3d(100%, 0, 0); }

.reveal[data-background-transition=convex] > .backgrounds .slide-background > .slide-background.past,
.reveal > .backgrounds .slide-background > .slide-background.past[data-background-transition=convex] {
  opacity: 0;
  -webkit-transform: translate3d(0, -100%, 0) rotateX(90deg) translate3d(0, -100%, 0);
          transform: translate3d(0, -100%, 0) rotateX(90deg) translate3d(0, -100%, 0); }

.reveal[data-background-transition=convex] > .backgrounds .slide-background > .slide-background.future,
.reveal > .backgrounds .slide-background > .slide-background.future[data-background-transition=convex] {
  opacity: 0;
  -webkit-transform: translate3d(0, 100%, 0) rotateX(-90deg) translate3d(0, 100%, 0);
          transform: translate3d(0, 100%, 0) rotateX(-90deg) translate3d(0, 100%, 0); }

/* Concave */
.reveal[data-background-transition=concave] > .backgrounds .slide-background.past,
.reveal > .backgrounds .slide-background.past[data-background-transition=concave] {
  opacity: 0;
  -webkit-transform: translate3d(-100%, 0, 0) rotateY(90deg) translate3d(-100%, 0, 0);
          transform: translate3d(-100%, 0, 0) rotateY(90deg) translate3d(-100%, 0, 0); }

.reveal[data-background-transition=concave] > .backgrounds .slide-background.future,
.reveal > .backgrounds .slide-background.future[data-background-transition=concave] {
  opacity: 0;
  -webkit-transform: translate3d(100%, 0, 0) rotateY(-90deg) translate3d(100%, 0, 0);
          transform: translate3d(100%, 0, 0) rotateY(-90deg) translate3d(100%, 0, 0); }

.reveal[data-background-transition=concave] > .backgrounds .slide-background > .slide-background.past,
.reveal > .backgrounds .slide-background > .slide-background.past[data-background-transition=concave] {
  opacity: 0;
  -webkit-transform: translate3d(0, -100%, 0) rotateX(-90deg) translate3d(0, -100%, 0);
          transform: translate3d(0, -100%, 0) rotateX(-90deg) translate3d(0, -100%, 0); }

.reveal[data-background-transition=concave] > .backgrounds .slide-background > .slide-background.future,
.reveal > .backgrounds .slide-background > .slide-background.future[data-background-transition=concave] {
  opacity: 0;
  -webkit-transform: translate3d(0, 100%, 0) rotateX(90deg) translate3d(0, 100%, 0);
          transform: translate3d(0, 100%, 0) rotateX(90deg) translate3d(0, 100%, 0); }

/* Zoom */
.reveal[data-background-transition=zoom] > .backgrounds .slide-background,
.reveal > .backgrounds .slide-background[data-background-transition=zoom] {
  transition-timing-function: ease; }

.reveal[data-background-transition=zoom] > .backgrounds .slide-background.past,
.reveal > .backgrounds .slide-background.past[data-background-transition=zoom] {
  opacity: 0;
  visibility: hidden;
  -webkit-transform: scale(16);
          transform: scale(16); }

.reveal[data-background-transition=zoom] > .backgrounds .slide-background.future,
.reveal > .backgrounds .slide-background.future[data-background-transition=zoom] {
  opacity: 0;
  visibility: hidden;
  -webkit-transform: scale(0.2);
          transform: scale(0.2); }

.reveal[data-background-transition=zoom] > .backgrounds .slide-background > .slide-background.past,
.reveal > .backgrounds .slide-background > .slide-background.past[data-background-transition=zoom] {
  opacity: 0;
  visibility: hidden;
  -webkit-transform: scale(16);
          transform: scale(16); }

.reveal[data-background-transition=zoom] > .backgrounds .slide-background > .slide-background.future,
.reveal > .backgrounds .slide-background > .slide-background.future[data-background-transition=zoom] {
  opacity: 0;
  visibility: hidden;
  -webkit-transform: scale(0.2);
          transform: scale(0.2); }

/* Global transition speed settings */
.reveal[data-transition-speed="fast"] > .backgrounds .slide-background {
  transition-duration: 400ms; }

.reveal[data-transition-speed="slow"] > .backgrounds .slide-background {
  transition-duration: 1200ms; }

/*********************************************
 * OVERVIEW
 *********************************************/
.reveal.overview {
  -webkit-perspective-origin: 50% 50%;
          perspective-origin: 50% 50%;
  -webkit-perspective: 700px;
          perspective: 700px; }
  .reveal.overview .slides {
    -moz-transform-style: preserve-3d; }
  .reveal.overview .slides section {
    height: 100%;
    top: 0 !important;
    opacity: 1 !important;
    overflow: hidden;
    visibility: visible !important;
    cursor: pointer;
    box-sizing: border-box; }
  .reveal.overview .slides section:hover,
  .reveal.overview .slides section.present {
    outline: 10px solid rgba(150, 150, 150, 0.4);
    outline-offset: 10px; }
  .reveal.overview .slides section .fragment {
    opacity: 1;
    transition: none; }
  .reveal.overview .slides section:after,
  .reveal.overview .slides section:before {
    display: none !important; }
  .reveal.overview .slides > section.stack {
    padding: 0;
    top: 0 !important;
    background: none;
    outline: none;
    overflow: visible; }
  .reveal.overview .backgrounds {
    -webkit-perspective: inherit;
            perspective: inherit;
    -moz-transform-style: preserve-3d; }
  .reveal.overview .backgrounds .slide-background {
    opacity: 1;
    visibility: visible;
    outline: 10px solid rgba(150, 150, 150, 0.1);
    outline-offset: 10px; }
  .reveal.overview .backgrounds .slide-background.stack {
    overflow: visible; }

.reveal.overview .slides section,
.reveal.overview-deactivating .slides section {
  transition: none; }

.reveal.overview .backgrounds .slide-background,
.reveal.overview-deactivating .backgrounds .slide-background {
  transition: none; }

/*********************************************
 * RTL SUPPORT
 *********************************************/
.reveal.rtl .slides,
.reveal.rtl .slides h1,
.reveal.rtl .slides h2,
.reveal.rtl .slides h3,
.reveal.rtl .slides h4,
.reveal.rtl .slides h5,
.reveal.rtl .slides h6 {
  direction: rtl;
  font-family: sans-serif; }

.reveal.rtl pre,
.reveal.rtl code {
  direction: ltr; }

.reveal.rtl ol,
.reveal.rtl ul {
  text-align: right; }

.reveal.rtl .progress span {
  float: right; }

/*********************************************
 * PARALLAX BACKGROUND
 *********************************************/
.reveal.has-parallax-background .backgrounds {
  transition: all 0.8s ease; }

/* Global transition speed settings */
.reveal.has-parallax-background[data-transition-speed="fast"] .backgrounds {
  transition-duration: 400ms; }

.reveal.has-parallax-background[data-transition-speed="slow"] .backgrounds {
  transition-duration: 1200ms; }

/*********************************************
 * LINK PREVIEW OVERLAY
 *********************************************/
.reveal .overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1000;
  background: rgba(0, 0, 0, 0.9);
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease; }

.reveal .overlay.visible {
  opacity: 1;
  visibility: visible; }

.reveal .overlay .spinner {
  position: absolute;
  display: block;
  top: 50%;
  left: 50%;
  width: 32px;
  height: 32px;
  margin: -16px 0 0 -16px;
  z-index: 10;
  background-image: url(data:image/gif;base64,R0lGODlhIAAgAPMAAJmZmf%2F%2F%2F6%2Bvr8nJybW1tcDAwOjo6Nvb26ioqKOjo7Ozs%2FLy8vz8%2FAAAAAAAAAAAACH%2FC05FVFNDQVBFMi4wAwEAAAAh%2FhpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh%2BQQJCgAAACwAAAAAIAAgAAAE5xDISWlhperN52JLhSSdRgwVo1ICQZRUsiwHpTJT4iowNS8vyW2icCF6k8HMMBkCEDskxTBDAZwuAkkqIfxIQyhBQBFvAQSDITM5VDW6XNE4KagNh6Bgwe60smQUB3d4Rz1ZBApnFASDd0hihh12BkE9kjAJVlycXIg7CQIFA6SlnJ87paqbSKiKoqusnbMdmDC2tXQlkUhziYtyWTxIfy6BE8WJt5YJvpJivxNaGmLHT0VnOgSYf0dZXS7APdpB309RnHOG5gDqXGLDaC457D1zZ%2FV%2FnmOM82XiHRLYKhKP1oZmADdEAAAh%2BQQJCgAAACwAAAAAIAAgAAAE6hDISWlZpOrNp1lGNRSdRpDUolIGw5RUYhhHukqFu8DsrEyqnWThGvAmhVlteBvojpTDDBUEIFwMFBRAmBkSgOrBFZogCASwBDEY%2FCZSg7GSE0gSCjQBMVG023xWBhklAnoEdhQEfyNqMIcKjhRsjEdnezB%2BA4k8gTwJhFuiW4dokXiloUepBAp5qaKpp6%2BHo7aWW54wl7obvEe0kRuoplCGepwSx2jJvqHEmGt6whJpGpfJCHmOoNHKaHx61WiSR92E4lbFoq%2BB6QDtuetcaBPnW6%2BO7wDHpIiK9SaVK5GgV543tzjgGcghAgAh%2BQQJCgAAACwAAAAAIAAgAAAE7hDISSkxpOrN5zFHNWRdhSiVoVLHspRUMoyUakyEe8PTPCATW9A14E0UvuAKMNAZKYUZCiBMuBakSQKG8G2FzUWox2AUtAQFcBKlVQoLgQReZhQlCIJesQXI5B0CBnUMOxMCenoCfTCEWBsJColTMANldx15BGs8B5wlCZ9Po6OJkwmRpnqkqnuSrayqfKmqpLajoiW5HJq7FL1Gr2mMMcKUMIiJgIemy7xZtJsTmsM4xHiKv5KMCXqfyUCJEonXPN2rAOIAmsfB3uPoAK%2B%2BG%2Bw48edZPK%2BM6hLJpQg484enXIdQFSS1u6UhksENEQAAIfkECQoAAAAsAAAAACAAIAAABOcQyEmpGKLqzWcZRVUQnZYg1aBSh2GUVEIQ2aQOE%2BG%2BcD4ntpWkZQj1JIiZIogDFFyHI0UxQwFugMSOFIPJftfVAEoZLBbcLEFhlQiqGp1Vd140AUklUN3eCA51C1EWMzMCezCBBmkxVIVHBWd3HHl9JQOIJSdSnJ0TDKChCwUJjoWMPaGqDKannasMo6WnM562R5YluZRwur0wpgqZE7NKUm%2BFNRPIhjBJxKZteWuIBMN4zRMIVIhffcgojwCF117i4nlLnY5ztRLsnOk%2BaV%2BoJY7V7m76PdkS4trKcdg0Zc0tTcKkRAAAIfkECQoAAAAsAAAAACAAIAAABO4QyEkpKqjqzScpRaVkXZWQEximw1BSCUEIlDohrft6cpKCk5xid5MNJTaAIkekKGQkWyKHkvhKsR7ARmitkAYDYRIbUQRQjWBwJRzChi9CRlBcY1UN4g0%2FVNB0AlcvcAYHRyZPdEQFYV8ccwR5HWxEJ02YmRMLnJ1xCYp0Y5idpQuhopmmC2KgojKasUQDk5BNAwwMOh2RtRq5uQuPZKGIJQIGwAwGf6I0JXMpC8C7kXWDBINFMxS4DKMAWVWAGYsAdNqW5uaRxkSKJOZKaU3tPOBZ4DuK2LATgJhkPJMgTwKCdFjyPHEnKxFCDhEAACH5BAkKAAAALAAAAAAgACAAAATzEMhJaVKp6s2nIkolIJ2WkBShpkVRWqqQrhLSEu9MZJKK9y1ZrqYK9WiClmvoUaF8gIQSNeF1Er4MNFn4SRSDARWroAIETg1iVwuHjYB1kYc1mwruwXKC9gmsJXliGxc%2BXiUCby9ydh1sOSdMkpMTBpaXBzsfhoc5l58Gm5yToAaZhaOUqjkDgCWNHAULCwOLaTmzswadEqggQwgHuQsHIoZCHQMMQgQGubVEcxOPFAcMDAYUA85eWARmfSRQCdcMe0zeP1AAygwLlJtPNAAL19DARdPzBOWSm1brJBi45soRAWQAAkrQIykShQ9wVhHCwCQCACH5BAkKAAAALAAAAAAgACAAAATrEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq%2BE71SRQeyqUToLA7VxF0JDyIQh%2FMVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiRMDjI0Fd30%2FiI2UA5GSS5UDj2l6NoqgOgN4gksEBgYFf0FDqKgHnyZ9OX8HrgYHdHpcHQULXAS2qKpENRg7eAMLC7kTBaixUYFkKAzWAAnLC7FLVxLWDBLKCwaKTULgEwbLA4hJtOkSBNqITT3xEgfLpBtzE%2FjiuL04RGEBgwWhShRgQExHBAAh%2BQQJCgAAACwAAAAAIAAgAAAE7xDISWlSqerNpyJKhWRdlSAVoVLCWk6JKlAqAavhO9UkUHsqlE6CwO1cRdCQ8iEIfzFVTzLdRAmZX3I2SfZiCqGk5dTESJeaOAlClzsJsqwiJwiqnFrb2nS9kmIcgEsjQydLiIlHehhpejaIjzh9eomSjZR%2BipslWIRLAgMDOR2DOqKogTB9pCUJBagDBXR6XB0EBkIIsaRsGGMMAxoDBgYHTKJiUYEGDAzHC9EACcUGkIgFzgwZ0QsSBcXHiQvOwgDdEwfFs0sDzt4S6BK4xYjkDOzn0unFeBzOBijIm1Dgmg5YFQwsCMjp1oJ8LyIAACH5BAkKAAAALAAAAAAgACAAAATwEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq%2BE71SRQeyqUToLA7VxF0JDyIQh%2FMVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiUd6GGl6NoiPOH16iZKNlH6KmyWFOggHhEEvAwwMA0N9GBsEC6amhnVcEwavDAazGwIDaH1ipaYLBUTCGgQDA8NdHz0FpqgTBwsLqAbWAAnIA4FWKdMLGdYGEgraigbT0OITBcg5QwPT4xLrROZL6AuQAPUS7bxLpoWidY0JtxLHKhwwMJBTHgPKdEQAACH5BAkKAAAALAAAAAAgACAAAATrEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq%2BE71SRQeyqUToLA7VxF0JDyIQh%2FMVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiUd6GAULDJCRiXo1CpGXDJOUjY%2BYip9DhToJA4RBLwMLCwVDfRgbBAaqqoZ1XBMHswsHtxtFaH1iqaoGNgAIxRpbFAgfPQSqpbgGBqUD1wBXeCYp1AYZ19JJOYgH1KwA4UBvQwXUBxPqVD9L3sbp2BNk2xvvFPJd%2BMFCN6HAAIKgNggY0KtEBAAh%2BQQJCgAAACwAAAAAIAAgAAAE6BDISWlSqerNpyJKhWRdlSAVoVLCWk6JKlAqAavhO9UkUHsqlE6CwO1cRdCQ8iEIfzFVTzLdRAmZX3I2SfYIDMaAFdTESJeaEDAIMxYFqrOUaNW4E4ObYcCXaiBVEgULe0NJaxxtYksjh2NLkZISgDgJhHthkpU4mW6blRiYmZOlh4JWkDqILwUGBnE6TYEbCgevr0N1gH4At7gHiRpFaLNrrq8HNgAJA70AWxQIH1%2BvsYMDAzZQPC9VCNkDWUhGkuE5PxJNwiUK4UfLzOlD4WvzAHaoG9nxPi5d%2BjYUqfAhhykOFwJWiAAAIfkECQoAAAAsAAAAACAAIAAABPAQyElpUqnqzaciSoVkXVUMFaFSwlpOCcMYlErAavhOMnNLNo8KsZsMZItJEIDIFSkLGQoQTNhIsFehRww2CQLKF0tYGKYSg%2BygsZIuNqJksKgbfgIGepNo2cIUB3V1B3IvNiBYNQaDSTtfhhx0CwVPI0UJe0%2Bbm4g5VgcGoqOcnjmjqDSdnhgEoamcsZuXO1aWQy8KAwOAuTYYGwi7w5h%2BKr0SJ8MFihpNbx%2B4Erq7BYBuzsdiH1jCAzoSfl0rVirNbRXlBBlLX%2BBP0XJLAPGzTkAuAOqb0WT5AH7OcdCm5B8TgRwSRKIHQtaLCwg1RAAAOwAAAAAAAAAAAA%3D%3D);
  visibility: visible;
  opacity: 0.6;
  transition: all 0.3s ease; }

.reveal .overlay header {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 40px;
  z-index: 2;
  border-bottom: 1px solid #222; }

.reveal .overlay header a {
  display: inline-block;
  width: 40px;
  height: 40px;
  line-height: 36px;
  padding: 0 10px;
  float: right;
  opacity: 0.6;
  box-sizing: border-box; }

.reveal .overlay header a:hover {
  opacity: 1; }

.reveal .overlay header a .icon {
  display: inline-block;
  width: 20px;
  height: 20px;
  background-position: 50% 50%;
  background-size: 100%;
  background-repeat: no-repeat; }

.reveal .overlay header a.close .icon {
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABkklEQVRYR8WX4VHDMAxG6wnoJrABZQPYBCaBTWAD2g1gE5gg6OOsXuxIlr40d81dfrSJ9V4c2VLK7spHuTJ/5wpM07QXuXc5X0opX2tEJcadjHuV80li/FgxTIEK/5QBCICBD6xEhSMGHgQPgBgLiYVAB1dpSqKDawxTohFw4JSEA3clzgIBPCURwE2JucBR7rhPJJv5OpJwDX+SfDjgx1wACQeJG1aChP9K/IMmdZ8DtESV1WyP3Bt4MwM6sj4NMxMYiqUWHQu4KYA/SYkIjOsm3BXYWMKFDwU2khjCQ4ELJUJ4SmClRArOCmSXGuKma0fYD5CbzHxFpCSGAhfAVSSUGDUk2BWZaff2g6GE15BsBQ9nwmpIGDiyHQddwNTMKkbZaf9fajXQca1EX44puJZUsnY0ObGmITE3GVLCbEhQUjGVt146j6oasWN+49Vph2w1pZ5EansNZqKBm1txbU57iRRcZ86RWMDdWtBJUHBHwoQPi1GV+JCbntmvok7iTX4/Up9mgyTc/FJYDTcndgH/AA5A/CHsyEkVAAAAAElFTkSuQmCC); }

.reveal .overlay header a.external .icon {
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAcElEQVRYR+2WSQoAIQwEzf8f7XiOMkUQxUPlGkM3hVmiQfQR9GYnH1SsAQlI4DiBqkCMoNb9y2e90IAEJPAcgdznU9+engMaeJ7Azh5Y1U67gAho4DqBqmB1buAf0MB1AlVBek83ZPkmJMGc1wAR+AAqod/B97TRpQAAAABJRU5ErkJggg==); }

.reveal .overlay .viewport {
  position: absolute;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  top: 40px;
  right: 0;
  bottom: 0;
  left: 0; }

.reveal .overlay.overlay-preview .viewport iframe {
  width: 100%;
  height: 100%;
  max-width: 100%;
  max-height: 100%;
  border: 0;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease; }

.reveal .overlay.overlay-preview.loaded .viewport iframe {
  opacity: 1;
  visibility: visible; }

.reveal .overlay.overlay-preview.loaded .viewport-inner {
  position: absolute;
  z-index: -1;
  left: 0;
  top: 45%;
  width: 100%;
  text-align: center;
  letter-spacing: normal; }

.reveal .overlay.overlay-preview .x-frame-error {
  opacity: 0;
  transition: opacity 0.3s ease 0.3s; }

.reveal .overlay.overlay-preview.loaded .x-frame-error {
  opacity: 1; }

.reveal .overlay.overlay-preview.loaded .spinner {
  opacity: 0;
  visibility: hidden;
  -webkit-transform: scale(0.2);
          transform: scale(0.2); }

.reveal .overlay.overlay-help .viewport {
  overflow: auto;
  color: #fff; }

.reveal .overlay.overlay-help .viewport .viewport-inner {
  width: 600px;
  margin: auto;
  padding: 20px 20px 80px 20px;
  text-align: center;
  letter-spacing: normal; }

.reveal .overlay.overlay-help .viewport .viewport-inner .title {
  font-size: 20px; }

.reveal .overlay.overlay-help .viewport .viewport-inner table {
  border: 1px solid #fff;
  border-collapse: collapse;
  font-size: 16px; }

.reveal .overlay.overlay-help .viewport .viewport-inner table th,
.reveal .overlay.overlay-help .viewport .viewport-inner table td {
  width: 200px;
  padding: 14px;
  border: 1px solid #fff;
  vertical-align: middle; }

.reveal .overlay.overlay-help .viewport .viewport-inner table th {
  padding-top: 20px;
  padding-bottom: 20px; }

/*********************************************
 * PLAYBACK COMPONENT
 *********************************************/
.reveal .playback {
  position: absolute;
  left: 15px;
  bottom: 20px;
  z-index: 30;
  cursor: pointer;
  transition: all 400ms ease;
  -webkit-tap-highlight-color: transparent; }

.reveal.overview .playback {
  opacity: 0;
  visibility: hidden; }

/*********************************************
 * ROLLING LINKS
 *********************************************/
.reveal .roll {
  display: inline-block;
  line-height: 1.2;
  overflow: hidden;
  vertical-align: top;
  -webkit-perspective: 400px;
          perspective: 400px;
  -webkit-perspective-origin: 50% 50%;
          perspective-origin: 50% 50%; }

.reveal .roll:hover {
  background: none;
  text-shadow: none; }

.reveal .roll span {
  display: block;
  position: relative;
  padding: 0 2px;
  pointer-events: none;
  transition: all 400ms ease;
  -webkit-transform-origin: 50% 0%;
          transform-origin: 50% 0%;
  -webkit-transform-style: preserve-3d;
          transform-style: preserve-3d;
  -webkit-backface-visibility: hidden;
          backface-visibility: hidden; }

.reveal .roll:hover span {
  background: rgba(0, 0, 0, 0.5);
  -webkit-transform: translate3d(0px, 0px, -45px) rotateX(90deg);
          transform: translate3d(0px, 0px, -45px) rotateX(90deg); }

.reveal .roll span:after {
  content: attr(data-title);
  display: block;
  position: absolute;
  left: 0;
  top: 0;
  padding: 0 2px;
  -webkit-backface-visibility: hidden;
          backface-visibility: hidden;
  -webkit-transform-origin: 50% 0%;
          transform-origin: 50% 0%;
  -webkit-transform: translate3d(0px, 110%, 0px) rotateX(-90deg);
          transform: translate3d(0px, 110%, 0px) rotateX(-90deg); }

/*********************************************
 * SPEAKER NOTES
 *********************************************/
.reveal aside.notes {
  display: none; }

.reveal .speaker-notes {
  display: none;
  position: absolute;
  width: 25vw;
  height: 100%;
  top: 0;
  left: 100%;
  padding: 14px 18px 14px 18px;
  z-index: 1;
  font-size: 18px;
  line-height: 1.4;
  border: 1px solid rgba(0, 0, 0, 0.05);
  color: #222;
  background-color: #f5f5f5;
  overflow: auto;
  box-sizing: border-box;
  text-align: left;
  font-family: Helvetica, sans-serif;
  -webkit-overflow-scrolling: touch; }
  .reveal .speaker-notes .notes-placeholder {
    color: #ccc;
    font-style: italic; }
  .reveal .speaker-notes:focus {
    outline: none; }
  .reveal .speaker-notes:before {
    content: 'Speaker notes';
    display: block;
    margin-bottom: 10px;
    opacity: 0.5; }

.reveal.show-notes {
  max-width: 75vw;
  overflow: visible; }

.reveal.show-notes .speaker-notes {
  display: block; }

@media screen and (min-width: 1600px) {
  .reveal .speaker-notes {
    font-size: 20px; } }

@media screen and (max-width: 1024px) {
  .reveal.show-notes {
    border-left: 0;
    max-width: none;
    max-height: 70%;
    overflow: visible; }
  .reveal.show-notes .speaker-notes {
    top: 100%;
    left: 0;
    width: 100%;
    height: 42.8571428571%; } }

@media screen and (max-width: 600px) {
  .reveal.show-notes {
    max-height: 60%; }
  .reveal.show-notes .speaker-notes {
    top: 100%;
    height: 66.6666666667%; }
  .reveal .speaker-notes {
    font-size: 14px; } }

/*********************************************
 * ZOOM PLUGIN
 *********************************************/
.zoomed .reveal *,
.zoomed .reveal *:before,
.zoomed .reveal *:after {
  -webkit-backface-visibility: visible !important;
          backface-visibility: visible !important; }

.zoomed .reveal .progress,
.zoomed .reveal .controls {
  opacity: 0; }

.zoomed .reveal .roll span {
  background: none; }

.zoomed .reveal .roll span:after {
  visibility: hidden; }

      
      </style>
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@3.7.0/css/theme/white.css">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css">
      
      

      
        <script src="https://cdn.jsdelivr.net/npm/reveal.js@3.7.0/lib/js/head.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/reveal.js@3.7.0/js/reveal.js"></script>
      
      
      
      
      
      

      <style>
      /* http://prismjs.com/download.html?themes=prism&languages=markup+css+clike+javascript+abap+actionscript+ada+apacheconf+apl+applescript+asciidoc+aspnet+autoit+autohotkey+bash+basic+batch+c+brainfuck+bro+bison+csharp+cpp+coffeescript+ruby+css-extras+d+dart+django+diff+docker+eiffel+elixir+erlang+fsharp+fortran+gherkin+git+glsl+go+graphql+groovy+haml+handlebars+haskell+haxe+http+icon+inform7+ini+j+jade+java+jolie+json+julia+keyman+kotlin+latex+less+livescript+lolcode+lua+makefile+markdown+matlab+mel+mizar+monkey+nasm+nginx+nim+nix+nsis+objectivec+ocaml+oz+parigp+parser+pascal+perl+php+php-extras+powershell+processing+prolog+properties+protobuf+puppet+pure+python+q+qore+r+jsx+reason+rest+rip+roboconf+crystal+rust+sas+sass+scss+scala+scheme+smalltalk+smarty+sql+stylus+swift+tcl+textile+twig+typescript+vbnet+verilog+vhdl+vim+wiki+xojo+yaml */
/**
 * prism.js default theme for JavaScript, CSS and HTML
 * Based on dabblet (http://dabblet.com)
 * @author Lea Verou
 */

code[class*="language-"],
pre[class*="language-"] {
	color: black;
	background: none;
	text-shadow: 0 1px white;
	font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	word-wrap: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {
	text-shadow: none;
	background: #b3d4fc;
}

pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
code[class*="language-"]::selection, code[class*="language-"] ::selection {
	text-shadow: none;
	background: #b3d4fc;
}

@media print {
	code[class*="language-"],
	pre[class*="language-"] {
		text-shadow: none;
	}
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #f5f2f0;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
	white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: slategray;
}

.token.punctuation {
	color: #999;
}

.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
	color: #905;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #690;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
	color: #a67f59;
	background: hsla(0, 0%, 100%, .5);
}

.token.atrule,
.token.attr-value,
.token.keyword {
	color: #07a;
}

.token.function {
	color: #DD4A68;
}

.token.regex,
.token.important,
.token.variable {
	color: #e90;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}

/* highlight */
pre[data-line] {
	position: relative;
	padding: 1em 0 1em 3em;
  }
  pre[data-line] .line-highlight-wrapper {
	position: absolute;
	top: 0;
	left: 0;
	background-color: transparent;
	display: block;
	width: 100%;
  }
  
  pre[data-line] .line-highlight {
	position: absolute;
	left: 0;
	right: 0;
	padding: inherit 0;
	margin-top: 1em;
	background: hsla(24, 20%, 50%,.08);
	background: linear-gradient(to right, hsla(24, 20%, 50%,.1) 70%, hsla(24, 20%, 50%,0));
	pointer-events: none;
	line-height: inherit;
	white-space: pre;
  }
  
  pre[data-line] .line-highlight:before, 
  pre[data-line] .line-highlight[data-end]:after {
	content: attr(data-start);
	position: absolute;
	top: .4em;
	left: .6em;
	min-width: 1em;
	padding: 0 .5em;
	background-color: hsla(24, 20%, 50%,.4);
	color: hsl(24, 20%, 95%);
	font: bold 65%/1.5 sans-serif;
	text-align: center;
	vertical-align: .3em;
	border-radius: 999px;
	text-shadow: none;
	box-shadow: 0 1px white;
  }
  
  pre[data-line] .line-highlight[data-end]:after {
	content: attr(data-end);
	top: auto;
	bottom: .4em;
  }.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/*  .markdown-preview.markdown-preview {

  left: 0 !important;
  transform: none !important;

  font-family: 'Fira Sans',
  sans-serif;

  background-color: #222222;
  color           : #aaaaaa;

  strong {
    color: #bbbbbb;
  }

  .media-row {
    display        : flex;
    flex-direction : row;
    justify-content: space-around;
  }

  .media-img {
    height: 40px;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: #bbbbbb;
  }

  a {
    color: #df6400;
  }

  footer {
    font-size: 75%;
  }

  pre,
  code {

    font-family     : 'Fira Mono', monospace;
    background-color: #363636;
    color           : #c5c5c5;

    .punctuation {
      color: #e48f3f;
    }

    .operator {
      color: #ffc038;
    }

    .macro,
    .directive,
    .macro>.string {
      color: #00b43c !important;
    }

    .function {
      color: #ff6b58;
    }

    .keyword {
      color: #e8eb56;
    }

    .string {
      color: #64cce6;
    }
  }
} */
p {
  font-size: 100%;
}
.mume-header {
  font-size: 200%;
}

      </style>
    </head>
    <body for="html-export" data-presentation-mode>
      <div class="mume markdown-preview  " data-presentation-mode>
      
    <div style="display:none;"></div>
    <div class="reveal">
      <div class="slides">
        <section lineno="11" class="slide " data-line="11" data-h="0" data-v="0">
<h1 class="mume-header" id="kurs-stm32">Kurs STM32</h1>

<p><em>Wojciech Olech</em></p>
<h2 class="mume-header" id="cz%C4%99%C5%9B%C4%87-v-direct-memory-access-dma">Cz&#x119;&#x15B;&#x107; V: Direct Memory Access (DMA)</h2>

</section><section lineno="19" class="slide " data-line="19" data-h="1" data-v="0">
<p>Ka&#x17C;dy mikrokontroler musi wymienia&#x107; si&#x119; danymi mi&#x119;dzy peryferiami i/lub pami&#x119;ci&#x105;. Ka&#x17C;dy dost&#x119;p do pami&#x119;ci i peryferi&#xF3;w (kt&#xF3;re s&#x105; reprezentowane przez rejestry) zajmuje procesorowi troch&#x119; czasu - w zale&#x17C;no&#x15B;ci od tego ile danych obs&#x142;uguje i jak cz&#x119;sto. Wi&#x105;&#x17C;e si&#x119; to z jego obci&#x105;&#x17C;eniem, poniewa&#x17C; w czasie kiedy obs&#x142;uguje kopiowanie danych nie mo&#x17C;e on robi&#x107; nic innego.</p>
<p>W nowoczesnych systemach ten problem jest rozwi&#x105;zany przez DMA. DMA, czyli modu&#x142; <strong>Direct Memory Access</strong>, pozwala na w pe&#x142;ni niezale&#x17C;n&#x105; od procesora, a co za tym idzie - asynchroniczn&#x105; - obs&#x142;ug&#x119; transferu danych mi&#x119;dzy pami&#x119;ci&#x105; i peryferiami.</p>
</section><section lineno="25" class="slide " data-line="25" data-h="2" data-v="0">
<h3 class="mume-header" id="jak-dzia%C5%82a-dma">Jak dzia&#x142;a DMA?</h3>

<p>Ka&#x17C;de peryferium w STMie musi wymienia&#x107; dane z rdzeniem Cortex-M. Peryferia s&#x105; zmapowane jako adresy pami&#x119;ci do kt&#xF3;rych nale&#x17C;y si&#x119; odwo&#x142;a&#x107; w celu uzyskania dost&#x119;pu do danych w ich rejestrach. Ka&#x17C;dy dost&#x119;p do takiego rejestru wymaga interwencji procesora, w celu uzyskania dost&#x119;pu i skopiowania danych z miejsca A do miejsca B. Dodatkowo, CPU musi obs&#x142;u&#x17C;y&#x107; wszystkie przerwania jakie po drodze wyst&#x105;pi&#x105;, oraz czeka&#x107; na gotowo&#x15B;&#x107; peryferi&#xF3;w je&#x15B;li nie mo&#x17C;na skopiowa&#x107; pami&#x119;ci za jednym zamachem.</p>
<p>Wszystkie te operacje zgromadzone razem zaczynaj&#x105; zajmowa&#x107; stosunkowo du&#x17C;&#x105; ilo&#x15B;&#x107; czasu, kt&#xF3;ry procesor m&#xF3;g&#x142;by lepiej i efektywniej wykorzysta&#x107;. DMA pozwala odci&#x105;&#x17C;y&#x107; procesor z tych operacji, poprzez obs&#x142;ug&#x119; danego peryferium i powiadomienie procesora na przyk&#x142;ad o zako&#x144;czeniu transferu.</p>
</section><section lineno="33" class="slide " data-line="33" data-h="3" data-v="0">
<h4 class="mume-header" id="architektura-szyn-danych-w-stm32">Architektura szyn danych w STM32</h4>

<img src="stm32_bus_diagram.png" style="width:70%">
<p><em>&#x17A;r&#xF3;d&#x142;o: Mastering STM32, sam diagram pochodzi z manuala do STM32F030</em></p>
</section><section lineno="41" class="slide " data-line="41" data-h="4" data-v="0">
<p>AHB to <em>Advanced High-performance Bus</em>, g&#x142;&#xF3;wna szyna danych po kt&#xF3;rej peryferia i pami&#x119;ci komunikuj&#x105; si&#x119; z rdzeniem i DMA. Procesory STM32 zazwyczaj maj&#x105; takie dwie.<br>
APB to <em>Advanced Peripheral Bus</em>, po tej szynie rozmawiaj&#x105; ze sob&#x105; peryferia typu USART, timery, SPI, itd.</p>
<p>Cortex-M i DMA s&#x105; masterami, co oznacza &#x17C;e mog&#x105; inicjowa&#x107; transfer mi&#x119;dzy peryferiami a pami&#x119;ci&#x105;. Slave&apos;ami s&#x105; szyny AHB i pami&#x119;&#x107; Flash oraz SRAM. BusMatrix zarz&#x105;dza po&#x142;&#x105;czeniami mi&#x119;dzy rdzeniem Cortex-M i DMA a peryferiami.<br>
Jak widzimy na schemacie, peryferia maj&#x105; bezpo&#x15B;rednie po&#x142;&#x105;czenie do DMA do kt&#xF3;rego mog&#x105; przekazywa&#x107; przerwania. Dzi&#x119;ki temu DMA mo&#x17C;e bez udzia&#x142;u rdzenia je obs&#x142;ugiwa&#x107;.</p>
</section><section lineno="49" class="slide " data-line="49" data-h="5" data-v="0">
<h4 class="mume-header" id="budowa-dma">Budowa DMA</h4>

<img src="dma_scheme.png" style="width:60%">
<p><em>&#x17A;r&#xF3;d&#x142;o: manual STM2F401</em></p>
</section><section lineno="57" class="slide " data-line="57" data-h="6" data-v="0">
<p>DMA zawiera w sobie</p>
<ul>
<li>Dwa <em>master</em> porty, nazywane <em>peripheral</em> i <em>memory</em>, po&#x142;&#x105;czone do AHB. S&#x142;u&#x17C;&#x105; one do transfer&#xF3;w danych mi&#x119;dzy peryferiami a pami&#x119;ci&#x105;. W niekt&#xF3;rych kontrolerach DMA, port <em>peripheral</em> ma r&#xF3;wnie&#x17C; dost&#x119;p do pami&#x119;ci, co pozwala na transfery pami&#x119;&#x107;-pami&#x119;&#x107; z u&#x17C;yciem DMA.</li>
<li>Jeden <em>slave</em> port, po&#x142;&#x105;czony do AHB kt&#xF3;ry s&#x142;u&#x17C;y do programowania DMA przez CPU.</li>
<li>Kilka kana&#x142;&#xF3;w (&#x17A;r&#xF3;de&#x142; request&#xF3;w) pod&#x142;&#x105;czonych do peryferi&#xF3;w, poprzez kt&#xF3;re DMA odbiera komunikaty od nich.</li>
</ul>
<p>DMA pozwala przypisa&#x107; r&#xF3;&#x17C;ne priorytety danym kana&#x142;om oraz pozwala na dost&#x119;p w obie strony, zar&#xF3;wno z peryferium do pami&#x119;ci jak i z pami&#x119;ci do peryferium.</p>
</section><section lineno="66" class="slide " data-line="66" data-h="7" data-v="0">
<p>Strumienie s&#x105; przypisane do danych peryferi&#xF3;w na etapie designu DMA. Jeden kana&#x142; DMA mo&#x17C;e obs&#x142;ugiwa&#x107;  maksymalnie jeden strumie&#x144; jednocze&#x15B;nie, nie mo&#x17C;e on obs&#x142;ugiwa&#x107; kilku strumieni na raz. Niekt&#xF3;re STMy maj&#x105; dwa kontrolery DMA co pozwala w pewnym stopniu omin&#x105;&#x107; to ograniczenie. Request mapping jest dost&#x119;pny w manualu danego mikrokontrolera, ale nie b&#x119;dzie nas on w tej chwili interesowa&#x107; poniewa&#x17C; Device Manager w STM32CubeIDE pozwoli nam &#x142;atwo skonfigurowa&#x107; DMA.</p>
<p>Dodatkowo, DMA b&#x119;dzie pracowa&#x107; nawet przy procesorze zatrzymanym przez debuger (poniewa&#x17C; debuger zatrzymuje tylko rdze&#x144;)</p>
</section><section lineno="72" class="slide " data-line="72" data-h="8" data-v="0">
<h3 class="mume-header" id="konfiguracja-peryferi%C3%B3w-w-trybie-dma">Konfiguracja peryferi&#xF3;w w trybie DMA</h3>

<p>Pos&#x142;u&#x17C;ymy si&#x119; tutaj przyk&#x142;adem u&#x17C;ycia USARTa z DMA do odbioru znak&#xF3;w w taki sam spos&#xF3;b jak zrobili&#x15B;my to w poprzednim rozdziale, ale tym razem z u&#x17C;yciem DMA.</p>
<p>Zaczniemy od konfiguracji USARTa w Device Managerze. Wybieramy USART2 i przechodzimy do zak&#x142;adki DMA. Klikamy przycisk &quot;Add&quot; i z listy wybieramy USART2_RX, poniewa&#x17C; na razie b&#x119;dziemy chcieli obs&#x142;u&#x17C;y&#x107; asynchronicznie tylko odbi&#xF3;r.</p>
<p>Potem przechodzimy do zak&#x142;adki <em>NVIC Settings</em> i <strong>uruchamiany globalne przerwanie UARTa</strong>. Bez tego, Device Manager nie wygeneruje kodu do obs&#x142;ugi przerwa&#x144; UARTa, co utrudni nam obs&#x142;ug&#x119;.</p>
</section><section lineno="83" class="slide " data-line="83" data-h="9" data-v="0">
<img src="usart_dma_config.png" style="width:70%">
<p><em>Screenshot pochodzi z konfiguratora dla Nucleo-L476RG, w przypadku innych Nucleo kana&#x142; request USART_RX mo&#x17C;e by&#x107; przypisany do innego kana&#x142;u</em></p>
</section><section lineno="89" class="slide " data-line="89" data-h="10" data-v="0">
<p>Mamy tutaj dwie opcje kt&#xF3;re mo&#x17C;emy skonfigurowa&#x107;</p>
<ul>
<li><strong>Mode</strong> - tryb w kt&#xF3;rym DMA b&#x119;dzie obs&#x142;ugiwa&#x107; peryferium.
<ul>
<li>W trybie normalnym, DMA odczytuje/zapisuje dane z/do podanego bufora i ko&#x144;czy dzia&#x142;anie po odczytaniu/zapisaniu wszystkich bajt&#xF3;w</li>
<li>W trybie cyklicznym (<em>circular</em>), DMA nie przerywa dzia&#x142;ania po zako&#x144;czeniu odczytu tylko wraca do pocz&#x105;tku bufora i ponownie z niego odczytuje lub do niego zapisuje dane.</li>
</ul>
</li>
<li><strong>Data Width</strong> - tutaj mo&#x17C;emy skonfigurowa&#x107; wielko&#x15B;&#x107; pojedynczej jednostki danych jak&#x105; DMA ma obs&#x142;ugiwa&#x107;. W przypadku domy&#x15B;lnych ustawie&#x144; USARTa, ramki s&#x105; 8-bitowe wi&#x119;c bajt w zupe&#x142;o&#x15B;ci wystarczy. Do dyspozycji s&#x105; jeszcze p&#xF3;&#x142;s&#x142;owa (<em>Half Word</em>) i pe&#x142;ne s&#x142;owa (<em>Word</em>), odpowiednio o wielko&#x15B;ciach 16 i 32 bit&#xF3;w.</li>
</ul>
<p><strong>Na razie skonfigurujmy DMA w trybie normalnym, potem przejdziemy do cyklicznego.</strong></p>
</section><section lineno="99" class="slide " data-line="99" data-h="11" data-v="0">
<p>Po ustawieniu kana&#x142;u DMA i zapisaniu projektu, Device Manager wygeneruje nam kod inicjalizacji USARTa z DMA. Znajduje si&#x119; on w funkcjach <code>MX_DMA_Init</code> (z pliku <code>main.c</code> lub <code>dma.c</code>), gdzie inicjalizowany jest zegar DMA i konfigurowane jest przerwanie, oraz w <code>HAL_UART_MspInit</code> (z pliku <code>stm32f4xx_hal_msp.c</code> lub <code>usart.c</code>) gdzie znajduje si&#x119; konkretna konfiguracja DMA dla UARTa i przypisanie (zlinkowanie) ustawionego strumienia do uchwytu UARTa.</p>
</section><section lineno="103" class="slide " data-line="103" data-h="12" data-v="0">
<p>Obs&#x142;uga UARTa z HALem i wygenerowanym kodem DMA wygl&#x105;da podobnie jak obs&#x142;uga UARTa w trybie przerwa&#x144; - do rozpocz&#x119;cia odbioru nale&#x17C;y u&#x17C;y&#x107; funkcji <code>HAL_UART_Receive_DMA</code>, kt&#xF3;ra przyjmuje trzy argumenty - uchwyt UARTa, adres bufora oraz ilo&#x15B;&#x107; bajt&#xF3;w do odczytania, a po zako&#x144;czeniu (i w po&#x142;owie odbioru) zostan&#x105; wywo&#x142;ane te same handlery co w trybie <em>interrupt</em>, czyli <code>HAL_UART_RxCpltCallback</code> (i <code>HAL_UART_RxHalfCpltCallback</code>).</p>
</section><section lineno="107" class="slide " data-line="107" data-h="13" data-v="0">
<p>Mo&#x17C;emy wi&#x119;c wykorzysta&#x107; nasz kod w kt&#xF3;rym obs&#x142;ugiwali&#x15B;my UARTa z u&#x17C;yciem przerwa&#x144; i zastosowa&#x107; go w ten sam spos&#xF3;b dla DMA. R&#xF3;&#x17C;nica b&#x119;dzie taka, &#x17C;e podczas odbierania danych z u&#x17C;yciem DMA procesor b&#x119;dzie m&#xF3;g&#x142; przeznaczy&#x107; wi&#x119;kszo&#x15B;&#x107; swojego czasu na inne zadania, podczas gdy DMA zajmie si&#x119; obs&#x142;ug&#x105; UARTa i kopiowaniem danych z rejestr&#xF3;w UARTa do pami&#x119;ci.</p>
<p>Przepiszmy nasz echo server kt&#xF3;ry napisali&#x15B;my dla UARTa w poprzednich rozdzia&#x142;ach, tak &#x17C;eby korzysta&#x142; z DMA.</p>
</section><section lineno="113" class="slide " data-line="113" data-h="14" data-v="0">
<h4 class="mume-header" id="dma-a-czas-%C5%BCycia-bufora">DMA, a czas &#x17C;ycia bufora</h4>

<p>W j&#x119;zyku C nale&#x17C;y pami&#x119;ta&#x107; o tym, jak dzia&#x142;aj&#x105; zakresy &#x17C;ywotno&#x15B;ci zmiennych. Podczas tworzenia zmiennej lub tablicy o sta&#x142;ej wielko&#x15B;ci, jej czas &#x17C;ycia (<em>lifetime</em>) jest tak d&#x142;ugi jak czas &#x17C;ycia zakresu w kt&#xF3;rym zosta&#x142;a stworzona.</p>
<p>Dobrze prezentuje to poni&#x17C;szy przyk&#x142;&#x105;d:</p>
<pre data-role="codeBlock" data-info="c" class="language-c"><span class="token keyword">int</span> g <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// zmienna `g` jest globalna, b&#x119;dzie istnie&#x107; przez ca&#x142;y okres dzia&#x142;ania programu</span>

<span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">// zmienna `a` jest stworzona w funkcji, tak wi&#x119;c b&#x119;dzie &#x17C;y&#x142;a podczas jej wykonywania a potem zniknie</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">double</span> d <span class="token operator">=</span> <span class="token number">1.23</span><span class="token punctuation">;</span> <span class="token comment">// zmienna `d` istnieje w ifie, wi&#x119;c po jego zako&#x144;czeniu zniknie z pami&#x119;ci</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;a = %d, d = %f\n&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK - zmienna `a` istnieje bo `if` jest zagnie&#x17C;d&#x17C;ony w funkcji</span>
  <span class="token punctuation">}</span>

  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;d = %f, g = %d\n&quot;</span><span class="token punctuation">,</span> d<span class="token punctuation">,</span> g<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// b&#x142;&#x105;d - zmienna `d` nie istnieje w tym zakresie</span>
<span class="token punctuation">}</span>
</pre></section><section lineno="136" class="slide " data-line="136" data-h="15" data-v="0">
<p>Jest to bardzo wa&#x17C;ne, poniewa&#x17C; oznacza to &#x17C;e <strong>nale&#x17C;y pami&#x119;ta&#x107; o tym &#x17C;eby bufor z kt&#xF3;rego korzysta DMA istnia&#x142; przez ca&#x142;y okres transakcji</strong>.<br>
Istniej&#x105; dwa miejsca w programie gdzie stworzona zmienna/bufor b&#x119;dzie istnie&#x107; przez ca&#x142;y okres jego dzia&#x142;ania - funkcja <code>main</code> oraz przestrze&#x144; globalna. Je&#x15B;li nie mo&#x17C;emy &quot;zaw&#x119;zi&#x107;&quot; zakresu istnienia bufora, poniewa&#x17C; nie mo&#x17C;emy przewidzie&#x107; deterministycznie &#x17C;e transakcja DMA zako&#x144;czy si&#x119; przed zako&#x144;czeniem si&#x119; zakresu w kt&#xF3;rym zosta&#x142; stworzony dany bufor (co zazwyczaj ma miejsce przy transakcjach blokuj&#x105;cych, transakcje asynchroniczne s&#x105; najcz&#x119;&#x15B;ciej niedeterministyczne, chyba &#x17C;e je blokujemy r&#x119;cznie), to <strong>nale&#x17C;y bufory tworzy&#x107; w przestrzeni globalnej</strong>, co da 100% pewno&#x15B;&#x107; &#x17C;e b&#x119;d&#x105; istnie&#x107; w ka&#x17C;dym momencie transakcji.</p>
<p><strong>Pr&#xF3;ba zapisu do niealokowanej pami&#x119;ci to <em>undefined behaviour</em> i mo&#x17C;e powodowa&#x107; trudne do wy&#x15B;ledzenia b&#x142;&#x119;dy w dzia&#x142;aniu programu, a najcz&#x119;&#x15B;ciej b&#x142;&#x105;d Hard Fault! Dane odczytane z niealokowanej pami&#x119;ci s&#x105; cz&#x119;sto &quot;niedeterministyczne&quot; i u&#x17C;ywanie ich r&#xF3;wnie&#x17C; mo&#x17C;e powodowa&#x107; b&#x142;&#x119;dy!</strong></p>
</section><section lineno="143" class="slide " data-line="143" data-h="16" data-v="0">
<p>Tworzymy sobie jednobajtowy bufor w globalnym zakresie i nast&#x119;puj&#x105;cy handler przerwania:</p>
<pre data-role="codeBlock" data-info="c" class="language-c"><span class="token comment">// Gdzie&#x15B; w globalnym zakresie tego samego pliku</span>
uint8_t byteBuffer<span class="token punctuation">;</span>

<span class="token comment">// Obs&#x142;uga ko&#x144;ca transmisji</span>
<span class="token keyword">void</span> <span class="token function">HAL_UART_RxCpltCallback</span><span class="token punctuation">(</span>UART_HandleTypeDef <span class="token operator">*</span>huart<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">HAL_UART_Transmit</span><span class="token punctuation">(</span>huart<span class="token punctuation">,</span> <span class="token operator">&amp;</span>byteBuffer<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> HAL_MAX_DELAY<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">HAL_GPIO_TogglePin</span><span class="token punctuation">(</span>LD2_GPIO_Port<span class="token punctuation">,</span> LD2_Pin<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">HAL_UART_Receive_DMA</span><span class="token punctuation">(</span>huart<span class="token punctuation">,</span> <span class="token operator">&amp;</span>byteBuffer<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><p>A nast&#x119;pnie w funkcji <code>main</code> uruchamiamy odbi&#xF3;r za pomoc&#x105; funkcji <code>HAL_UART_Receive_DMA</code></p>
<pre data-role="codeBlock" data-info="c" class="language-c"><span class="token function">HAL_UART_Receive_DMA</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>huart2<span class="token punctuation">,</span> <span class="token operator">&amp;</span>byteBuffer<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></section><section lineno="165" class="slide " data-line="165" data-h="17" data-v="0">
<p>Dzia&#x142;a to dok&#x142;adnie tak samo jak blokuj&#x105;cy echo server, lub echo server na przerwaniach, z t&#x105; r&#xF3;&#x17C;nic&#x105; &#x17C;e obs&#x142;uga seriala le&#x17C;y po stronie DMA a nie rdzenia.</p>
<p>Ten przyk&#x142;ad jednak prezentuje tylko to, &#x17C;e u&#x17C;ywanie DMA mo&#x17C;e by&#x107; tak samo &#x142;atwe jak u&#x17C;ywanie przerwa&#x144; - co jest prawd&#x105;, ale DMA b&#x142;yszczy w innych scenariuszach, g&#x142;&#xF3;wnie w takich gdzie trzeba obs&#x142;u&#x17C;y&#x107; wi&#x119;cej ni&#x17C; jeden bajt danych na raz. W kolejnych rozdzia&#x142;ach kursu b&#x119;d&#x119; prezentowa&#x142; obs&#x142;ug&#x119; peryferi&#xF3;w w trybie blokuj&#x105;cym oraz DMA.</p>
</section><section lineno="171" class="slide " data-line="171" data-h="18" data-v="0">
<h3 class="mume-header" id="obs%C5%82uga-uarta-z-u%C5%BCyciem-dma-oraz-detekcji-wolnej-linii">Obs&#x142;uga UARTa z u&#x17C;yciem DMA oraz detekcji wolnej linii</h3>

<p>Wykorzystamy kod z poprzedniego rozdzia&#x142;u, ale zmodyfikujemy go troch&#x119; w taki spos&#xF3;b, &#x17C;eby wsp&#xF3;&#x142;pracowa&#x142; z DMA w trybie <em>circular</em>.</p>
<p>W trybie ko&#x142;owym, DMA po dotarciu do ko&#x144;ca bufora powtarza ca&#x142;y proces odczytu/zapisu zaczynaj&#x105;c od pocz&#x105;tku bufora, do momentu w kt&#xF3;rym r&#x119;cznie go nie zatrzymamy. Przerwania s&#x105; wysy&#x142;ane w taki sam spos&#xF3;b jak przy normalnym trybie (w po&#x142;owie bufora oraz na jego ko&#x144;cu). Ten tryb idealnie si&#x119; nadaje do ci&#x105;g&#x142;ej obs&#x142;ugi peryferi&#xF3;w, czyli na przyk&#x142;ad ci&#x105;g&#x142;ego odczytu z ADC lub UARTa bez potrzeby ingerowania procesora w restartowanie operacji.</p>
</section><section lineno="179" class="slide " data-line="179" data-h="19" data-v="0">
<p>Nale&#x17C;y skonfigurowa&#x107; przerwanie <em>idle line</em> dla UARTa poprzez uruchomienie go i obs&#x142;ug&#x119; w handlerze globalnego przerwania UARTa, tak jak zosta&#x142;o to opisane w poprzedniej cz&#x119;&#x15B;ci kursu.</p>
<pre data-role="codeBlock" data-info="c" class="language-c">	<span class="token comment">/* Initialize all configured peripherals */</span>
	<span class="token function">MX_GPIO_Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">MX_DMA_Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">MX_USART2_UART_Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">/* USER CODE BEGIN 2 */</span>
	<span class="token function">__HAL_UART_ENABLE_IT</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>huart2<span class="token punctuation">,</span> UART_IT_IDLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">/* USER CODE END 2 */</span>
</pre><pre data-role="codeBlock" data-info="c" class="language-c"><span class="token keyword">void</span> <span class="token function">USART2_IRQHandler</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">/* USER CODE BEGIN USART2_IRQn 0 */</span>

	<span class="token comment">/* USER CODE END USART2_IRQn 0 */</span>
	<span class="token function">HAL_UART_IRQHandler</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>huart2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">/* USER CODE BEGIN USART2_IRQn 1 */</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">__HAL_UART_GET_FLAG</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>huart2<span class="token punctuation">,</span> UART_FLAG_IDLE<span class="token punctuation">)</span> <span class="token operator">==</span> SET<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">__HAL_UART_CLEAR_IDLEFLAG</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>huart2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">handle_uart_message</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// T&#x105; funkcj&#x119; musimy sami napisa&#x107;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/* USER CODE END USART2_IRQn 1 */</span>
<span class="token punctuation">}</span>
</pre></section><section lineno="209" class="slide " data-line="209" data-h="20" data-v="0">
<p>Nast&#x119;pnie, musimy pomy&#x15B;le&#x107; co nale&#x17C;y zrobi&#x107; w momencie kiedy</p>
<ul>
<li>Bufor jest pe&#x142;ny w po&#x142;owie</li>
<li>Bufor jest pe&#x142;ny</li>
<li>Nast&#x105;pi&#x142;o przerwanie idle line</li>
</ul>
<p>Z racji &#x17C;e DMA b&#x119;dzie pracowa&#x142;o w trybie ko&#x142;owym, to nasz bufor do kt&#xF3;rego zostan&#x105; zapisane dane stanie si&#x119; buforem ko&#x142;owym. Je&#x15B;li przyjdzie do niego ilo&#x15B;&#x107; danych wi&#x119;ksza od samego bufora, to cz&#x119;&#x15B;&#x107; z tych danych zostanie nadpisana. Mo&#x17C;na tego unikn&#x105;&#x107; na dwa sposoby:</p>
<ol>
<li>Zapewnienie bufora o wielko&#x15B;ci wi&#x119;kszej od najwi&#x119;kszego komunikatu jaki mo&#x17C;e przyj&#x15B;&#x107;</li>
<li>Kopiowanie odebranej wiadomo&#x15B;ci do innego bufora, z poziomu kt&#xF3;rego zostanie ona obs&#x142;u&#x17C;ona</li>
</ol>
</section><section lineno="221" class="slide " data-line="221" data-h="21" data-v="0">
<p>Opcja numer jeden zajmie nam mniej pami&#x119;ci i teoretycznie jest nieco prostsza w implementacji, wi&#x119;c j&#x105; zaprezentuj&#x119;. Na d&#x142;ug&#x105; met&#x119;, w niekt&#xF3;rych przypadkach opcja numer dwa mo&#x17C;e okaza&#x107; si&#x119; lepsza - na przyk&#x142;ad kiedy chcemy trzyma&#x107; zawarto&#x15B;&#x107; wiadomo&#x15B;ci przez d&#x142;u&#x17C;szy okres i mie&#x107; kontrol&#x119; nad jej nadpisaniem.<br>
W przypadku tego rozwi&#x105;zania nie musimy te&#x17C; obs&#x142;ugiwa&#x107; przerwania po&#x142;owy/pe&#x142;nego bufora, poniewa&#x17C; wiadomo&#x15B;&#x107; nigdy nie przekroczy wielko&#x15B;ci bufora. Przy opcji numer 2, by&#x142;by to mus poniewa&#x17C; wiadomo&#x15B;&#x107; mog&#x142;a by przepe&#x142;ni&#x107; bufor co spowodowa&#x142;o by utrat&#x119; cz&#x119;&#x15B;ci danych.</p>
<p>Za&#x142;&#xF3;&#x17C;my &#x17C;e wiadomo&#x15B;ci jakie b&#x119;dziemy wysy&#x142;a&#x107; nie b&#x119;d&#x105; przekracza&#x107; 128 bajt&#xF3;w, wi&#x119;c tworzymy globalny bufor o takiej wielko&#x15B;ci.</p>
<pre data-role="codeBlock" data-info="c" class="language-c"><span class="token comment">/* Private variables ---------------------------------------------------------*/</span>
<span class="token comment">/* USER CODE BEGIN PV */</span>
uint8_t messageBuffer<span class="token punctuation">[</span><span class="token number">128</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">/* USER CODE END PV */</span>
</pre><p><em>&#x17B;eby zmienna globalna by&#x142;a widoczna w innym pliku z kodem, nale&#x17C;y j&#x105; tam zadeklarowa&#x107; z keywordem <code>extern</code></em></p>
</section><section lineno="237" class="slide " data-line="237" data-h="22" data-v="0">
<p>Teraz, zosta&#x142;o nam jedynie napisa&#x107; funkcj&#x119; <code>handle_uart_message</code>.<br>
Na start, spr&#xF3;bujmy po prostu wys&#x142;a&#x107; zawarto&#x15B;&#x107; bufora (sugeruj&#x119; zrobi&#x107; to po prostu poprzez <code>HAL_UART_Transmit</code>)</p>
<p>Funkcja <code>handle_uart_message</code> powinna wygl&#x105;da&#x107; nast&#x119;puj&#x105;co:</p>
<pre data-role="codeBlock" data-info="c" class="language-c"><span class="token keyword">void</span> <span class="token function">handle_uart_message</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">HAL_UART_Transmit</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>huart2<span class="token punctuation">,</span> messageBuffer<span class="token punctuation">,</span> <span class="token keyword">sizeof</span> messageBuffer<span class="token punctuation">,</span> HAL_MAX_DELAY<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre></section><section lineno="250" class="slide " data-line="250" data-h="23" data-v="0">
<p>Zosta&#x142;o nam tylko uruchomi&#x107; DMA w trybie ko&#x142;owym. W Device Configuration Toolu zmieniamy tryb DMA z <em>Normal</em> na <em>Circular</em> i uruchamiamy odczyt za pomoc&#x105; funkcji <code>HAL_UART_Receive_DMA</code></p>
<img src="usart_dma_circular.png" style="width:50%">
<pre data-role="codeBlock" data-info="c" class="language-c"><span class="token function">HAL_UART_Receive_DMA</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>huart2<span class="token punctuation">,</span> messageBuffer<span class="token punctuation">,</span> <span class="token keyword">sizeof</span> messageBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></section><section lineno="260" class="slide " data-line="260" data-h="24" data-v="0">
<p>Jak widzimy, do bufora trafiaj&#x105; wszystkie dane i po jego zape&#x142;nieniu nowe dane nadpisuj&#x105; stare dane zaczynaj&#x105;c od pocz&#x105;tku bufora. Teraz, musimy nasz&#x105; wiadomo&#x15B;&#x107; z tego bufora &quot;wyci&#x105;gn&#x105;&#x107;&quot;. &#x17B;eby to zrobi&#x107;, musimy wiedzie&#x107; gdzie si&#x119; zaczyna i gdzie si&#x119; ko&#x144;czy, oraz obs&#x142;u&#x17C;y&#x107; sytuacj&#x119; gdy nast&#x119;puje przeskok z ko&#x144;ca bufora do jego pocz&#x105;tku.</p>
<p>Z pomoc&#x105; mo&#x17C;e przyj&#x15B;&#x107; nam makro <code>__HAL_DMA_GET_COUNTER</code> kt&#xF3;re zwraca ilo&#x15B;&#x107; bajt&#xF3;w pozosta&#x142;ych do ko&#x144;ca bufora.</p>
<p>Dodatkowo, mo&#x17C;emy zapisywa&#x107; offset na kt&#xF3;rym zako&#x144;czy&#x142;a si&#x119; poprzednia wiadomo&#x15B;&#x107;, dzi&#x119;ki czemu jeste&#x15B;my w stanie obliczy&#x107; jej d&#x142;ugo&#x15B;&#x107;. Mo&#x17C;emy te&#x17C;, zamiast offsetu, u&#x17C;y&#x107; do tego wska&#x17A;nika na bufor.</p>
</section><section lineno="268" class="slide " data-line="268" data-h="25" data-v="0">
<pre data-role="codeBlock" data-info="c" class="language-c"><span class="token keyword">extern</span> uint8_t messageBuffer<span class="token punctuation">[</span><span class="token number">128</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
uint8_t<span class="token operator">*</span> messageStartPtr <span class="token operator">=</span> messageBuffer<span class="token punctuation">;</span>
uint8_t <span class="token keyword">const</span><span class="token operator">*</span> messageBufferEndPtr <span class="token operator">=</span> messageBuffer <span class="token operator">+</span> <span class="token keyword">sizeof</span> messageBuffer<span class="token punctuation">;</span>
<span class="token comment">// [...]</span>
<span class="token comment">/* USER CODE BEGIN 1 */</span>
<span class="token keyword">void</span> <span class="token function">handle_uart_message</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// Stw&#xF3;rz wska&#x17A;nik na koniec wiadomo&#x15B;ci</span>
	uint8_t<span class="token operator">*</span> messageEndPtr <span class="token operator">=</span> messageBuffer
			<span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">sizeof</span> messageBuffer<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">__HAL_DMA_GET_COUNTER</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>hdma_usart2_rx<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Sprawd&#x17A; czy nast&#x105;pi&#x142;o przepe&#x142;nienie bufora czy nie</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>messageStartPtr <span class="token operator">&lt;=</span> messageEndPtr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// Bufor nie wr&#xF3;ci&#x142; na pocz&#x105;tek, wi&#x119;c po prostu wy&#x15B;wietl wiadomo&#x15B;&#x107;</span>
		<span class="token comment">// Nie u&#x17C;yjemy printfa poniewa&#x17C; chcemy wy&#x15B;wietli&#x107; konkretn&#x105; ilo&#x15B;&#x107; bajt&#xF3;w</span>
		<span class="token function">HAL_UART_Transmit</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>huart2<span class="token punctuation">,</span> messageStartPtr<span class="token punctuation">,</span>
				<span class="token punctuation">(</span>messageEndPtr <span class="token operator">-</span> messageStartPtr<span class="token punctuation">)</span><span class="token punctuation">,</span> HAL_MAX_DELAY<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token comment">// DMA wr&#xF3;ci&#x142;o na pocz&#x105;tek bufora</span>
		<span class="token comment">// Wy&#x15B;wietl najpierw pocz&#x105;tek wiadomo&#x15B;ci, a potem jej koniec</span>
		<span class="token function">HAL_UART_Transmit</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>huart2<span class="token punctuation">,</span> messageStartPtr<span class="token punctuation">,</span>
				messageBufferEndPtr <span class="token operator">-</span> messageStartPtr<span class="token punctuation">,</span> HAL_MAX_DELAY<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">HAL_UART_Transmit</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>huart2<span class="token punctuation">,</span> messageBuffer<span class="token punctuation">,</span> messageEndPtr <span class="token operator">-</span> messageBuffer<span class="token punctuation">,</span>
		HAL_MAX_DELAY<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	messageStartPtr <span class="token operator">=</span> messageEndPtr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* USER CODE END 1 */</span>
</pre></section><section lineno="300" class="slide " data-line="300" data-h="26" data-v="0">
<p>W ten spos&#xF3;b stworzyli&#x15B;my echo server kt&#xF3;ry obs&#x142;uguje UARTa za pomoc&#x105; bufora ko&#x142;owego.</p>
<p>Jest to jeden z najbardziej ergonomicznych sposob&#xF3;w obs&#x142;ugi UARTa. Dzia&#x142;a on r&#xF3;wnie&#x17C; w momencie w kt&#xF3;rym zatrzymamy procesor za pomoc&#x105; debugera - je&#x15B;li UART odbierze komunikat, to po wznowieniu pracy przerwanie <em>idle line</em> zostanie obs&#x142;u&#x17C;one przez procesor kt&#xF3;ry b&#x119;dzie w stanie odczyta&#x107; komunikat poniewa&#x17C; DMA go w tle skopiowa&#x142;o do bufora.</p>
</section><section lineno="306" class="slide " data-line="306" data-h="27" data-v="0">
<h2 class="mume-header" id="dodatkowe-materia%C5%82y">Dodatkowe materia&#x142;y</h2>

<ul>
<li>AN4031 - U&#x17C;ywanie DMA w STM32F2, STM32F4 i STM32F7. Jeden z najbardziej kompletnych dokument&#xF3;w o DMA od ST.<br>
<a href="https://www.st.com/content/ccc/resource/technical/document/application_note/27/46/7c/ea/2d/91/40/a9/DM00046011.pdf/files/DM00046011.pdf/jcr:content/translations/en.DM00046011.pdf">https://www.st.com/content/ccc/resource/technical/document/application_note/27/46/7c/ea/2d/91/40/a9/DM00046011.pdf/files/DM00046011.pdf/jcr:content/translations/en.DM00046011.pdf</a></li>
</ul>
</section>
      </div>
    </div>
    
      </div>
      
      
    
    
      <script>
        Reveal.initialize({"margin":0.1,"width":1920,"height":1080,"controls":true,"progress":true,"slideNumber":true,"keyboard":true,"overview":true,"dependencies":[]})
      </script>
      
    
    
    
    
    
    
  
    </body></html>